(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[65],{1321:function(e,r,t){"use strict";t.r(r);(function(e){var a=t(0);var n=t.n(a);var l=t(223);var o=t(225);var i=t(18);var u=t(224);var c=t(117);var s=t(103);var f=t(57);var d=t(58);var m=t(166);var v=t(66);var p=t(32);var g=t(172);var b=t(1538);var h=t(104);var y=t(105);var E=t.n(y);var j=t(40);(function(){var r=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.enterModule:undefined;r&&r(e)})();function w(e,r,t,a,n,l,o){try{var i=e[l](o);var u=i.value}catch(e){t(e);return}if(i.done){r(u)}else{Promise.resolve(u).then(a,n)}}function R(e){return function(){var r=this,t=arguments;return new Promise(function(a,n){var l=e.apply(r,t);function o(e){w(l,a,n,o,i,"next",e)}function i(e){w(l,a,n,o,i,"throw",e)}o(undefined)})}}function C(e,r){return O(e)||k(e,r)||x(e,r)||N()}function N(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function x(e,r){if(!e)return;if(typeof e==="string")return _(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor)t=e.constructor.name;if(t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _(e,r)}function _(e,r){if(r==null||r>e.length)r=e.length;for(var t=0,a=new Array(r);t<r;t++){a[t]=e[t]}return a}function k(e,r){var t=e&&(typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"]);if(t==null)return;var a=[];var n=true;var l=false;var o,i;try{for(t=t.call(e);!(n=(o=t.next()).done);n=true){a.push(o.value);if(r&&a.length===r)break}}catch(e){l=true;i=e}finally{try{if(!n&&t["return"]!=null)t["return"]()}finally{if(l)throw i}}return a}function O(e){if(Array.isArray(e))return e}var P=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.default.signature:function(e){return e};var D=t(229);var H=function e(r){var t,p,g,b,h,y,w,N,x;var _=r.history,k=r.match,O=r.referrals,P=r.referralCount,H=r.getReferral,L=r.getReferralCount,S=r.getReferralPaymentDetails,G=r.referralPaymentDetails,I=r.loading;var A=D.parse(_.location.search,{ignoreQueryPrefix:true}).page;var M=Object(a["useState"])(function(){return A===undefined?1:parseInt(A,10)}),T=C(M,2),U=T[0],V=T[1];var F=Object(a["useState"])(false),Q=C(F,2),B=Q[0],J=Q[1];var z=Object(a["useState"])({}),$=C(z,2),q=$[0],K=$[1];Object(a["useEffect"])(function(){if(A===undefined||O.length<1){H(U,true);L()}},[]);var W=function e(r){_.push("".concat(_.location.pathname,"?page=").concat(r));V(r);H(r);window.scrollTo(0,0)};var X=function(){var e=R(regeneratorRuntime.mark(function e(r){return regeneratorRuntime.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:K(r);J(true);case 2:case"end":return t.stop()}}},e)}));return function r(t){return e.apply(this,arguments)}}();Object(a["useMemo"])(function(){return console.log(O)},[B]);return n.a.createElement("div",{className:"table-wrapper"},n.a.createElement(m["a"],{title:"Referral",match:k}),n.a.createElement(v["a"],{heading:"Referrals",fullBlock:true,style:{minHeight:"70vh"}},n.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},n.a.createElement("div",{className:"float-right d-flex align-items-center p-3"})),n.a.createElement("div",{className:"table-responsive",style:{minHeight:"50vh"}},n.a.createElement(l["a"],null,n.a.createElement(u["a"],null,n.a.createElement(c["a"],{hover:true},n.a.createElement(i["a"],null,"Date"),n.a.createElement(i["a"],null,"Referrer Name"),n.a.createElement(i["a"],null,"Referrer Number"),n.a.createElement(i["a"],null,"Referee Name"),n.a.createElement(i["a"],null,"Referee Number"),n.a.createElement(i["a"],null,"Status"),n.a.createElement(i["a"],null,"Action"))),n.a.createElement(o["a"],null,n.a.createElement(a["Fragment"],null,!I&&O.length>0&&O.map(function(e,r){return n.a.createElement(c["a"],{hover:true,key:e.id},n.a.createElement(i["a"],null,Object(j["a"])(e===null||e===void 0?void 0:e.createdAt)),n.a.createElement(i["a"],null,e.referrer.first_name+" "+e.referrer.last_name),n.a.createElement(i["a"],null,e.referrer.phone_number),n.a.createElement(i["a"],null,e.referee.first_name+" "+e.referee.last_name),n.a.createElement(i["a"],null,e.referee.phone_number),n.a.createElement(i["a"],null,n.a.createElement(s["a"],{color:e.status===0?"warning":"success"},e.status===0?"Pending":"Confirmed")),n.a.createElement(i["a"],null,n.a.createElement("i",{className:"ti-eye",onClick:function r(){return X(e)}})))}))))),n.a.createElement("div",{className:"d-flex justify-content-end align-items-center mb-0 mt-3 mr-2"},n.a.createElement(E.a,{activePage:U,itemClass:"page-item",linkClass:"page-link",itemsCountPerPage:20,totalItemsCount:P,onChange:W}))),n.a.createElement(f["a"],{isOpen:B,toggle:function e(){return J(!B)}},n.a.createElement(d["a"],{className:"p-4",style:{minHeight:"250px"}},n.a.createElement("div",{style:{color:"#2E407B"}},"Transaction Details"),n.a.createElement("div",{style:{marginTop:"40px",color:"#898888",fontSize:"12px"}},n.a.createElement("div",null,n.a.createElement("ul",{className:"list-group"},(q===null||q===void 0?void 0:q.credit_data)&&n.a.createElement("li",{className:"list-group-item text-right"},n.a.createElement("span",{className:"pull-left"},n.a.createElement("strong",null,"Amount")),"₦",q===null||q===void 0?void 0:(t=q.credit_data)===null||t===void 0?void 0:t.amount),n.a.createElement("li",{className:"list-group-item text-right"},n.a.createElement("span",{className:"pull-left"},n.a.createElement("strong",null,"Referee Number")),q===null||q===void 0?void 0:(p=q.referee)===null||p===void 0?void 0:p.phone_number),(q===null||q===void 0?void 0:q.credit_data)&&n.a.createElement(n.a.Fragment,null,n.a.createElement("li",{className:"list-group-item text-right"},n.a.createElement("span",{className:"pull-left"},n.a.createElement("strong",null,"Referee Trip Amount")),"₦",q===null||q===void 0?void 0:(g=q.credit_data)===null||g===void 0?void 0:(b=g.referee_trip_data)===null||b===void 0?void 0:(h=b.amount)===null||h===void 0?void 0:h.toLocaleString()),n.a.createElement("li",{className:"list-group-item text-right"},n.a.createElement("span",{className:"pull-left"},n.a.createElement("strong",null,"Referee Trip ID")),q===null||q===void 0?void 0:(y=q.credit_data)===null||y===void 0?void 0:(w=y.referee_trip_data)===null||w===void 0?void 0:w.trip_id),n.a.createElement("li",{className:"list-group-item text-right"},n.a.createElement("span",{className:"pull-left"},n.a.createElement("strong",null,"Referee Trip Reference")),q===null||q===void 0?void 0:(N=q.credit_data)===null||N===void 0?void 0:(x=N.referee_trip_data)===null||x===void 0?void 0:x.trip_ref))))))))};P(H,"useState{[currentPage, setCurrentPage](() => {\r\n    return pageFromQuery === undefined ? 1 : parseInt(pageFromQuery, 10);\r\n  })}\nuseState{[isOpen, setIsOpen](false)}\nuseState{[referralDetails, setReferralDetails]({})}\nuseEffect{}\nuseMemo{}");function L(e){return{getReferral:function r(t,a){return e(Object(b["a"])(t,a))},getReferralCount:function r(){return e(Object(b["b"])())},getReferralPaymentDetails:function r(t){return e(Object(b["c"])(t))}}}var S=function e(r){return{referrals:r.referrals.referrals,referralCount:r.referrals.referralCount,referralPaymentDetails:r.referrals.referralPaymentDetails,loading:r.loading.loading,loadingStatus:r.loading.loadingStatus}};var G=Object(p["b"])(S,L)(H);r["default"]=G;(function(){var e=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.default:undefined;if(!e){return}e.register(H,"Referral","C:\\Users\\VIC\\Desktop\\projects\\live\\lagsoride-admin-dashboard\\src\\routes\\referral\\referral.js");e.register(L,"mapDispatchToProps","C:\\Users\\VIC\\Desktop\\projects\\live\\lagsoride-admin-dashboard\\src\\routes\\referral\\referral.js");e.register(S,"mapStateToProps","C:\\Users\\VIC\\Desktop\\projects\\live\\lagsoride-admin-dashboard\\src\\routes\\referral\\referral.js");e.register(G,"default","C:\\Users\\VIC\\Desktop\\projects\\live\\lagsoride-admin-dashboard\\src\\routes\\referral\\referral.js")})();(function(){var r=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.leaveModule:undefined;r&&r(e)})()}).call(this,t(6)(e))},1538:function(e,r,t){"use strict";(function(e){t.d(r,"a",function(){return m});t.d(r,"b",function(){return v});t.d(r,"c",function(){return p});var a=t(15);var n=t.n(a);var l=t(3);var o=t(4);var i=t(5);var u=t.n(i);var c=t(17);(function(){var r=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.enterModule:undefined;r&&r(e)})();function s(e,r,t,a,n,l,o){try{var i=e[l](o);var u=i.value}catch(e){t(e);return}if(i.done){r(u)}else{Promise.resolve(u).then(a,n)}}function f(e){return function(){var r=this,t=arguments;return new Promise(function(a,n){var l=e.apply(r,t);function o(e){s(l,a,n,o,i,"next",e)}function i(e){s(l,a,n,o,i,"throw",e)}o(undefined)})}}var d=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.default.signature:function(e){return e};var m=function e(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var t=arguments.length>1?arguments[1]:undefined;return function(){var e=f(regeneratorRuntime.mark(function e(a){var u;return regeneratorRuntime.wrap(function e(s){while(1){switch(s.prev=s.next){case 0:s.prev=0;t&&a(Object(o["c"])());!t&&a(Object(o["d"])());s.next=5;return n.a.get("".concat(c["a"].referral,"/v1.1/referrals/?page=").concat(r,"&item_per_page=20"));case 5:u=s.sent;if(u.data.status==="error"){i["NotificationManager"].error(u.data.msg)}else{a({type:l["Nb"],payload:u.data.data})}a(Object(o["a"])());a(Object(o["b"])());s.next=16;break;case 11:s.prev=11;s.t0=s["catch"](0);a(Object(o["a"])());a(Object(o["b"])());i["NotificationManager"].error(s.t0.response.data.result);case 16:case"end":return s.stop()}}},e,null,[[0,11]])}));return function(r){return e.apply(this,arguments)}}()};var v=function e(){return function(){var e=f(regeneratorRuntime.mark(function e(r){var t,a,o;return regeneratorRuntime.wrap(function e(u){while(1){switch(u.prev=u.next){case 0:u.prev=0;u.next=3;return n.a.get("".concat(c["a"].referral,"/v1.1/referrals?component=count"));case 3:t=u.sent;if(t.data.status==="error"){i["NotificationManager"].error(t.data.msg)}else{r({type:l["Ob"],payload:(a=t.data)===null||a===void 0?void 0:(o=a.data)===null||o===void 0?void 0:o.total})}u.next=9;break;case 7:u.prev=7;u.t0=u["catch"](0);case 9:case"end":return u.stop()}}},e,null,[[0,7]])}));return function(r){return e.apply(this,arguments)}}()};var p=function e(r){return function(){var e=f(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function e(o){while(1){switch(o.prev=o.next){case 0:o.prev=0;o.next=3;return n.a.get("".concat(c["a"].wallet,"/v1.1/admin/referral-transactions?payment_id=").concat(r));case 3:a=o.sent;if(a.data.status==="error"){i["NotificationManager"].error(a.data.msg)}else{t({type:l["Pb"],payload:a.data.data[0]})}o.next=9;break;case 7:o.prev=7;o.t0=o["catch"](0);case 9:case"end":return o.stop()}}},e,null,[[0,7]])}));return function(r){return e.apply(this,arguments)}}()};(function(){var e=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.default:undefined;if(!e){return}e.register(m,"getReferral","C:\\Users\\VIC\\Desktop\\projects\\live\\lagsoride-admin-dashboard\\src\\actions\\referrerAction.js");e.register(v,"getReferralCount","C:\\Users\\VIC\\Desktop\\projects\\live\\lagsoride-admin-dashboard\\src\\actions\\referrerAction.js");e.register(p,"getReferralPaymentDetails","C:\\Users\\VIC\\Desktop\\projects\\live\\lagsoride-admin-dashboard\\src\\actions\\referrerAction.js")})();(function(){var r=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.leaveModule:undefined;r&&r(e)})()}).call(this,t(6)(e))}}]);