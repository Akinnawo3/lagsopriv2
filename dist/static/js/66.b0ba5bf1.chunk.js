(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[66],{1360:function(e,t,a){"use strict";a.r(t);(function(e){var r=a(0);var n=a.n(r);var c=a(223);var i=a(225);var o=a(18);var s=a(224);var u=a(117);var l=a(66);var d=a(7);var v=a(21);var f=a(32);var m=a(1476);var p=a(104);var g=a(105);var b=a.n(g);var h=a(103);var y=a(40);var j=a(166);(function(){var t=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.enterModule:undefined;t&&t(e)})();function E(e,t){return R(e)||C(e,t)||x(e,t)||w()}function w(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function x(e,t){if(!e)return;if(typeof e==="string")return k(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor)a=e.constructor.name;if(a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return k(e,t)}function k(e,t){if(t==null||t>e.length)t=e.length;for(var a=0,r=new Array(t);a<t;a++){r[a]=e[a]}return r}function C(e,t){var a=e&&(typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"]);if(a==null)return;var r=[];var n=true;var c=false;var i,o;try{for(a=a.call(e);!(n=(i=a.next()).done);n=true){r.push(i.value);if(t&&r.length===t)break}}catch(e){c=true;o=e}finally{try{if(!n&&a["return"]!=null)a["return"]()}finally{if(c)throw o}}return r}function R(e){if(Array.isArray(e))return e}var H=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.default.signature:function(e){return e};var q=a(229);var O=function e(t){var a=t.match,f=t.getServiceRequests,m=t.getServiceRequestsCount,g=t.serviceRequests,w=t.serviceRequestsCount,x=t.loading;var k=Object(r["useState"])(""),C=E(k,2),R=C[0],H=C[1];var O=Object(d["g"])();var S=q.parse(O.location.search,{ignoreQueryPrefix:true}).page;var M=Object(r["useState"])(function(){return S===undefined?1:parseInt(S,10)}),N=E(M,2),_=N[0],G=N[1];Object(r["useEffect"])(function(){if(a.params.id){if(S===undefined||g.length<1){f(_,true,"","completed",R,a.params.id);m("","completed",R,a.params.id)}}},[R]);var L=function e(t){O.push("".concat(O.location.pathname,"?page=").concat(t));f(_,true,"","completed",R,a.params.id);G(t);window.scrollTo(0,0)};return n.a.createElement("div",{className:"table-wrapper"},n.a.createElement(j["a"],{title:"Maintenance History",match:a}),n.a.createElement("div",null,n.a.createElement(l["a"],{heading:"Maintenance History",fullBlock:true,style:{minHeight:"70vh"}},n.a.createElement("li",{className:"list-inline-item search-icon d-inline-block ml-5 mb-2"},n.a.createElement("select",{type:"select",className:"p-1 px-4",value:R,onChange:function e(t){return H(t.target.value)}},n.a.createElement("option",{value:""},"Request type "),y["B"].map(function(e){return n.a.createElement("option",{value:e.value,key:e.value},e.name)}))),n.a.createElement("div",{className:"table-responsive",style:{minHeight:"50vh"}},n.a.createElement(c["a"],null,n.a.createElement(s["a"],null,n.a.createElement(u["a"],{hover:true},n.a.createElement(o["a"],null,"Type"),n.a.createElement(o["a"],null,"Time"),n.a.createElement(o["a"],null,"Covered by warranty"),n.a.createElement(o["a"],null,"Driver name"),n.a.createElement(o["a"],null,"plate number "),n.a.createElement(o["a"],null,"Urgency "),n.a.createElement(o["a"],null,"Status"),n.a.createElement(o["a"],null,"Action"))),n.a.createElement(i["a"],null,!x&&n.a.createElement(r["Fragment"],null,g.length>0&&g.map(function(e){return n.a.createElement(u["a"],{hover:true,key:e._id},n.a.createElement(o["a"],{className:"text-capitalize"},e===null||e===void 0?void 0:e.service_type),n.a.createElement(o["a"],null,Object(y["a"])(e===null||e===void 0?void 0:e.createdAt)),n.a.createElement(o["a"],{className:"fw-bold text-".concat(e!==null&&e!==void 0&&e.covered_by_warranty?"success":"danger")},e!==null&&e!==void 0&&e.covered_by_warranty?"Yes":"No"),n.a.createElement(o["a"],null,e.driver_name),n.a.createElement(o["a"],null,e.plate_number),n.a.createElement(o["a"],{className:"fw-bold text-capitalize text-".concat(e.urgency==="low"?"warning":e.urgency==="high"?"danger":"secondary")},e.urgency?e.urgency:"N/A"),n.a.createElement(o["a"],null,n.a.createElement(h["a"],{color:Object(y["m"])(e===null||e===void 0?void 0:e.status),style:{minWidth:80}},e.status)),n.a.createElement(o["a"],null,n.a.createElement("button",{type:"button",className:"rct-link-btn text-primary",title:"view details"},n.a.createElement(v["b"],{to:{pathname:"/admin/maintenance/".concat(e===null||e===void 0?void 0:e._id),state:{maintenanceHistory:true}}},n.a.createElement("i",{className:"ti-eye"})))))}))))),n.a.createElement("div",{className:"d-flex justify-content-end align-items-center mb-0 mt-3 mr-2"},n.a.createElement(b.a,{activePage:_,itemClass:"page-item",linkClass:"page-link",itemsCountPerPage:20,totalItemsCount:w,onChange:L}))),g.length<1&&n.a.createElement(p["a"],null)))};H(O,'useState{[serviceType, setServiceType]("")}\nuseHistory{history}\nuseState{[currentPage, setCurrentPage](() => {\r\n    return pageFromQuery === undefined ? 1 : parseInt(pageFromQuery, 10);\r\n  })}\nuseEffect{}',function(){return[d["g"]]});function S(e){return{getServiceRequests:function t(a,r,n,c,i,o){return e(Object(m["b"])(a,r,n,c,i,o))},getServiceRequestsCount:function t(a,r,n,c){return e(Object(m["c"])(a,r,n,c))}}}var M=function e(t){return{serviceRequests:t.serviceRequests.serviceRequests,serviceRequestsCount:t.serviceRequests.serviceRequestsCount,loading:t.loading.loading}};var N=Object(f["b"])(M,S)(O);t["default"]=N;(function(){var e=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.default:undefined;if(!e){return}e.register(O,"VehicleMaintenanceHistory","C:\\Users\\VIC\\Desktop\\projects\\live\\lagsoride-admin-dashboard\\src\\routes\\maintenance-log\\vehicleMaintenanceHistory.js");e.register(S,"mapDispatchToProps","C:\\Users\\VIC\\Desktop\\projects\\live\\lagsoride-admin-dashboard\\src\\routes\\maintenance-log\\vehicleMaintenanceHistory.js");e.register(M,"mapStateToProps","C:\\Users\\VIC\\Desktop\\projects\\live\\lagsoride-admin-dashboard\\src\\routes\\maintenance-log\\vehicleMaintenanceHistory.js");e.register(N,"default","C:\\Users\\VIC\\Desktop\\projects\\live\\lagsoride-admin-dashboard\\src\\routes\\maintenance-log\\vehicleMaintenanceHistory.js")})();(function(){var t=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.leaveModule:undefined;t&&t(e)})()}).call(this,a(6)(e))},1476:function(e,t,a){"use strict";(function(e){a.d(t,"b",function(){return f});a.d(t,"c",function(){return m});a.d(t,"a",function(){return p});a.d(t,"d",function(){return g});var r=a(15);var n=a.n(r);var c=a(4);var i=a(3);var o=a(5);var s=a.n(o);var u=a(17);(function(){var t=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.enterModule:undefined;t&&t(e)})();function l(e,t,a,r,n,c,i){try{var o=e[c](i);var s=o.value}catch(e){a(e);return}if(o.done){t(s)}else{Promise.resolve(s).then(r,n)}}function d(e){return function(){var t=this,a=arguments;return new Promise(function(r,n){var c=e.apply(t,a);function i(e){l(c,r,n,i,o,"next",e)}function o(e){l(c,r,n,i,o,"throw",e)}i(undefined)})}}var v=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.default.signature:function(e){return e};var f=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var a=arguments.length>1?arguments[1]:undefined;var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"";var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"";var l=arguments.length>4&&arguments[4]!==undefined?arguments[4]:"";var v=arguments.length>5&&arguments[5]!==undefined?arguments[5]:"";return function(){var e=d(regeneratorRuntime.mark(function e(d){var f;return regeneratorRuntime.wrap(function e(m){while(1){switch(m.prev=m.next){case 0:m.prev=0;m.t0=a;if(!m.t0){m.next=5;break}m.next=5;return d(Object(c["c"])());case 5:m.t1=!a;if(!m.t1){m.next=9;break}m.next=9;return d(Object(c["d"])());case 9:m.next=11;return n.a.get("".concat(u["a"].oem,"/v1.1/admin/service-requests/?oem_id=").concat(r,"&status=").concat(s,"&service_type=").concat(l,"&vehicle_id=").concat(v,"&item_per_page=20&page=").concat(t));case 11:f=m.sent;if(f.data.status==="error"){o["NotificationManager"].error(f.data.msg)}else{d({type:i["Xb"],payload:f.data.data})}d(Object(c["a"])());d(Object(c["b"])());m.next=21;break;case 17:m.prev=17;m.t2=m["catch"](0);d(Object(c["a"])());d(Object(c["b"])());case 21:case"end":return m.stop()}}},e,null,[[0,17]])}));return function(t){return e.apply(this,arguments)}}()};var m=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"";var c=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"";return function(){var e=d(regeneratorRuntime.mark(function e(s){var l;return regeneratorRuntime.wrap(function e(d){while(1){switch(d.prev=d.next){case 0:d.prev=0;d.next=3;return n.a.get("".concat(u["a"].oem,"/v1.1/admin/service-requests/?oem_id=").concat(t,"&status=").concat(a,"&service_type=").concat(r,"&vehicle_id=").concat(c,"&component=count"));case 3:l=d.sent;if(l.data.status==="error"){o["NotificationManager"].error(l.data.msg)}else{s({type:i["Yb"],payload:l.data.data.total?l.data.data.total:0})}d.next=9;break;case 7:d.prev=7;d.t0=d["catch"](0);case 9:case"end":return d.stop()}}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()};var p=function e(t,a){return function(){var e=d(regeneratorRuntime.mark(function e(r){var s;return regeneratorRuntime.wrap(function e(l){while(1){switch(l.prev=l.next){case 0:l.prev=0;l.t0=a;if(!l.t0){l.next=5;break}l.next=5;return r(Object(c["c"])());case 5:l.t1=!a;if(!l.t1){l.next=9;break}l.next=9;return r(Object(c["d"])());case 9:l.next=11;return n.a.get("".concat(u["a"].oem,"/v1.1/admin/service-requests/").concat(t));case 11:s=l.sent;if(s.data.status==="error"){o["NotificationManager"].error(s.data.msg)}else{r({type:i["Wb"],payload:s.data.data})}r(Object(c["a"])());r(Object(c["b"])());l.next=21;break;case 17:l.prev=17;l.t2=l["catch"](0);r(Object(c["a"])());r(Object(c["b"])());case 21:case"end":return l.stop()}}},e,null,[[0,17]])}));return function(t){return e.apply(this,arguments)}}()};var g=function e(t,a){return function(){var e=d(regeneratorRuntime.mark(function e(r){var i;return regeneratorRuntime.wrap(function e(s){while(1){switch(s.prev=s.next){case 0:s.prev=0;r(Object(c["d"])());s.next=4;return n.a.put("".concat(u["a"].oem,"/v1.1/service-requests/").concat(t),a);case 4:i=s.sent;if(!(i.data.status==="error")){s.next=9;break}o["NotificationManager"].error(i.data.msg);s.next=12;break;case 9:o["NotificationManager"].success("Service request updated successfully");s.next=12;return r(p(t,true));case 12:r(Object(c["b"])());s.next=19;break;case 15:s.prev=15;s.t0=s["catch"](0);r(Object(c["b"])());console.log(s.t0);case 19:case"end":return s.stop()}}},e,null,[[0,15]])}));return function(t){return e.apply(this,arguments)}}()};(function(){var e=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.default:undefined;if(!e){return}e.register(f,"getServiceRequests","C:\\Users\\VIC\\Desktop\\projects\\live\\lagsoride-admin-dashboard\\src\\actions\\serviceRequestAction.js");e.register(m,"getServiceRequestsCount","C:\\Users\\VIC\\Desktop\\projects\\live\\lagsoride-admin-dashboard\\src\\actions\\serviceRequestAction.js");e.register(p,"getServiceRequest","C:\\Users\\VIC\\Desktop\\projects\\live\\lagsoride-admin-dashboard\\src\\actions\\serviceRequestAction.js");e.register(g,"updateServiceRequest","C:\\Users\\VIC\\Desktop\\projects\\live\\lagsoride-admin-dashboard\\src\\actions\\serviceRequestAction.js")})();(function(){var t=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.leaveModule:undefined;t&&t(e)})()}).call(this,a(6)(e))}}]);