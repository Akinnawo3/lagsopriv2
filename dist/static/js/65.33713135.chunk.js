(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[65],{1322:function(e,r,t){"use strict";t.r(r);(function(e){var a=t(0);var n=t.n(a);var l=t(223);var o=t(225);var i=t(18);var c=t(224);var u=t(116);var s=t(102);var d=t(52);var f=t(54);var m=t(166);var p=t(66);var v=t(34);var g=t(172);var h=t(1541);var b=t(103);var y=t(104);var E=t.n(y);var w=t(40);(function(){var r=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.enterModule:undefined;r&&r(e)})();function P(e,r,t,a,n,l,o){try{var i=e[l](o);var c=i.value}catch(e){t(e);return}if(i.done){r(c)}else{Promise.resolve(c).then(a,n)}}function x(e){return function(){var r=this,t=arguments;return new Promise(function(a,n){var l=e.apply(r,t);function o(e){P(l,a,n,o,i,"next",e)}function i(e){P(l,a,n,o,i,"throw",e)}o(undefined)})}}function R(e,r){return k(e)||_(e,r)||A(e,r)||j()}function j(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function A(e,r){if(!e)return;if(typeof e==="string")return N(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor)t=e.constructor.name;if(t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return N(e,r)}function N(e,r){if(r==null||r>e.length)r=e.length;for(var t=0,a=new Array(r);t<r;t++){a[t]=e[t]}return a}function _(e,r){var t=e&&(typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"]);if(t==null)return;var a=[];var n=true;var l=false;var o,i;try{for(t=t.call(e);!(n=(o=t.next()).done);n=true){a.push(o.value);if(r&&a.length===r)break}}catch(e){l=true;i=e}finally{try{if(!n&&t["return"]!=null)t["return"]()}finally{if(l)throw i}}return a}function k(e){if(Array.isArray(e))return e}var O=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.default.signature:function(e){return e};var H=t(229);var M=function e(r){var t,v,g,h,b,y,P,j,A;var N=r.history,_=r.match,k=r.referrals,O=r.referralCount,M=r.getReferral,L=r.getReferralCount,S=r.getReferralPaymentDetails,G=r.referralPaymentDetails,C=r.loading;var D=H.parse(N.location.search,{ignoreQueryPrefix:true}).page;var T=Object(a["useState"])(function(){return D===undefined?1:parseInt(D,10)}),I=R(T,2),X=I[0],F=I[1];var Q=Object(a["useState"])(false),B=R(Q,2),J=B[0],z=B[1];var U=Object(a["useState"])({}),$=R(U,2),q=$[0],K=$[1];Object(a["useEffect"])(function(){if(D===undefined||k.length<1){M(X,true);L()}},[]);var V=function e(r){N.push("".concat(N.location.pathname,"?page=").concat(r));F(r);M(r);window.scrollTo(0,0)};var W=function(){var e=x(regeneratorRuntime.mark(function e(r){return regeneratorRuntime.wrap(function e(t){while(1){switch(t.prev=t.next){case 0:K(r);z(true);case 2:case"end":return t.stop()}}},e)}));return function r(t){return e.apply(this,arguments)}}();Object(a["useMemo"])(function(){return console.log(k)},[J]);return n.a.createElement("div",{className:"table-wrapper"},n.a.createElement(m["a"],{title:"Referral",match:_}),n.a.createElement(p["a"],{heading:"Referrals",fullBlock:true,style:{minHeight:"70vh"}},n.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},n.a.createElement("div",{className:"float-right d-flex align-items-center p-3"})),n.a.createElement("div",{className:"table-responsive",style:{minHeight:"50vh"}},n.a.createElement(l["a"],null,n.a.createElement(c["a"],null,n.a.createElement(u["a"],{hover:true},n.a.createElement(i["a"],null,"Date"),n.a.createElement(i["a"],null,"Referrer Name"),n.a.createElement(i["a"],null,"Referrer Number"),n.a.createElement(i["a"],null,"Referee Name"),n.a.createElement(i["a"],null,"Referee Number"),n.a.createElement(i["a"],null,"Status"),n.a.createElement(i["a"],null,"Action"))),n.a.createElement(o["a"],null,n.a.createElement(a["Fragment"],null,!C&&k.length>0&&k.map(function(e,r){return n.a.createElement(u["a"],{hover:true,key:e.id},n.a.createElement(i["a"],null,Object(w["a"])(e===null||e===void 0?void 0:e.createdAt)),n.a.createElement(i["a"],null,e.referrer.first_name+" "+e.referrer.last_name),n.a.createElement(i["a"],null,e.referrer.phone_number),n.a.createElement(i["a"],null,e.referee.first_name+" "+e.referee.last_name),n.a.createElement(i["a"],null,e.referee.phone_number),n.a.createElement(i["a"],null,n.a.createElement(s["a"],{color:e.status===0?"warning":"success"},e.status===0?"Pending":"Confirmed")),n.a.createElement(i["a"],null,n.a.createElement("i",{className:"ti-eye",onClick:function r(){return W(e)}})))}))))),n.a.createElement("div",{className:"d-flex justify-content-end align-items-center mb-0 mt-3 mr-2"},n.a.createElement(E.a,{activePage:X,itemClass:"page-item",linkClass:"page-link",itemsCountPerPage:20,totalItemsCount:O,onChange:V}))),n.a.createElement(d["a"],{isOpen:J,toggle:function e(){return z(!J)}},n.a.createElement(f["a"],{className:"p-4",style:{minHeight:"250px"}},n.a.createElement("div",{style:{color:"#2E407B"}},"Transaction Details"),n.a.createElement("div",{style:{marginTop:"40px",color:"#898888",fontSize:"12px"}},n.a.createElement("div",null,n.a.createElement("ul",{className:"list-group"},(q===null||q===void 0?void 0:q.credit_data)&&n.a.createElement("li",{className:"list-group-item text-right"},n.a.createElement("span",{className:"pull-left"},n.a.createElement("strong",null,"Amount")),"₦",q===null||q===void 0?void 0:(t=q.credit_data)===null||t===void 0?void 0:t.amount),n.a.createElement("li",{className:"list-group-item text-right"},n.a.createElement("span",{className:"pull-left"},n.a.createElement("strong",null,"Referee Number")),q===null||q===void 0?void 0:(v=q.referee)===null||v===void 0?void 0:v.phone_number),(q===null||q===void 0?void 0:q.credit_data)&&n.a.createElement(n.a.Fragment,null,n.a.createElement("li",{className:"list-group-item text-right"},n.a.createElement("span",{className:"pull-left"},n.a.createElement("strong",null,"Referee Trip Amount")),"₦",q===null||q===void 0?void 0:(g=q.credit_data)===null||g===void 0?void 0:(h=g.referee_trip_data)===null||h===void 0?void 0:(b=h.amount)===null||b===void 0?void 0:b.toLocaleString()),n.a.createElement("li",{className:"list-group-item text-right"},n.a.createElement("span",{className:"pull-left"},n.a.createElement("strong",null,"Referee Trip ID")),q===null||q===void 0?void 0:(y=q.credit_data)===null||y===void 0?void 0:(P=y.referee_trip_data)===null||P===void 0?void 0:P.trip_id),n.a.createElement("li",{className:"list-group-item text-right"},n.a.createElement("span",{className:"pull-left"},n.a.createElement("strong",null,"Referee Trip Reference")),q===null||q===void 0?void 0:(j=q.credit_data)===null||j===void 0?void 0:(A=j.referee_trip_data)===null||A===void 0?void 0:A.trip_ref))))))))};O(M,"useState{[currentPage, setCurrentPage](() => {\n    return pageFromQuery === undefined ? 1 : parseInt(pageFromQuery, 10);\n  })}\nuseState{[isOpen, setIsOpen](false)}\nuseState{[referralDetails, setReferralDetails]({})}\nuseEffect{}\nuseMemo{}");function L(e){return{getReferral:function r(t,a){return e(Object(h["a"])(t,a))},getReferralCount:function r(){return e(Object(h["b"])())},getReferralPaymentDetails:function r(t){return e(Object(h["c"])(t))}}}var S=function e(r){return{referrals:r.referrals.referrals,referralCount:r.referrals.referralCount,referralPaymentDetails:r.referrals.referralPaymentDetails,loading:r.loading.loading,loadingStatus:r.loading.loadingStatus}};var G=Object(v["b"])(S,L)(M);r["default"]=G;(function(){var e=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.default:undefined;if(!e){return}e.register(M,"Referral","/Applications/XAMPP/xamppfiles/htdocs/workload/lagosride/admin-dashboard/src/routes/referral/referral.js");e.register(L,"mapDispatchToProps","/Applications/XAMPP/xamppfiles/htdocs/workload/lagosride/admin-dashboard/src/routes/referral/referral.js");e.register(S,"mapStateToProps","/Applications/XAMPP/xamppfiles/htdocs/workload/lagosride/admin-dashboard/src/routes/referral/referral.js");e.register(G,"default","/Applications/XAMPP/xamppfiles/htdocs/workload/lagosride/admin-dashboard/src/routes/referral/referral.js")})();(function(){var r=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.leaveModule:undefined;r&&r(e)})()}).call(this,t(7)(e))},1541:function(e,r,t){"use strict";(function(e){t.d(r,"a",function(){return m});t.d(r,"b",function(){return p});t.d(r,"c",function(){return v});var a=t(15);var n=t.n(a);var l=t(3);var o=t(4);var i=t(5);var c=t.n(i);var u=t(17);(function(){var r=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.enterModule:undefined;r&&r(e)})();function s(e,r,t,a,n,l,o){try{var i=e[l](o);var c=i.value}catch(e){t(e);return}if(i.done){r(c)}else{Promise.resolve(c).then(a,n)}}function d(e){return function(){var r=this,t=arguments;return new Promise(function(a,n){var l=e.apply(r,t);function o(e){s(l,a,n,o,i,"next",e)}function i(e){s(l,a,n,o,i,"throw",e)}o(undefined)})}}var f=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.default.signature:function(e){return e};var m=function e(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var t=arguments.length>1?arguments[1]:undefined;return function(){var e=d(regeneratorRuntime.mark(function e(a){var c;return regeneratorRuntime.wrap(function e(s){while(1){switch(s.prev=s.next){case 0:s.prev=0;t&&a(Object(o["c"])());!t&&a(Object(o["d"])());s.next=5;return n.a.get("".concat(u["a"].referral,"/v1.1/referrals/?page=").concat(r,"&item_per_page=20"));case 5:c=s.sent;if(c.data.status==="error"){i["NotificationManager"].error(c.data.msg)}else{a({type:l["Pb"],payload:c.data.data})}a(Object(o["a"])());a(Object(o["b"])());s.next=16;break;case 11:s.prev=11;s.t0=s["catch"](0);a(Object(o["a"])());a(Object(o["b"])());i["NotificationManager"].error(s.t0.response.data.result);case 16:case"end":return s.stop()}}},e,null,[[0,11]])}));return function(r){return e.apply(this,arguments)}}()};var p=function e(){return function(){var e=d(regeneratorRuntime.mark(function e(r){var t,a,o;return regeneratorRuntime.wrap(function e(c){while(1){switch(c.prev=c.next){case 0:c.prev=0;c.next=3;return n.a.get("".concat(u["a"].referral,"/v1.1/referrals?component=count"));case 3:t=c.sent;if(t.data.status==="error"){i["NotificationManager"].error(t.data.msg)}else{r({type:l["Qb"],payload:(a=t.data)===null||a===void 0?void 0:(o=a.data)===null||o===void 0?void 0:o.total})}c.next=9;break;case 7:c.prev=7;c.t0=c["catch"](0);case 9:case"end":return c.stop()}}},e,null,[[0,7]])}));return function(r){return e.apply(this,arguments)}}()};var v=function e(r){return function(){var e=d(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function e(o){while(1){switch(o.prev=o.next){case 0:o.prev=0;o.next=3;return n.a.get("".concat(u["a"].wallet,"/v1.1/admin/referral-transactions?payment_id=").concat(r));case 3:a=o.sent;if(a.data.status==="error"){i["NotificationManager"].error(a.data.msg)}else{t({type:l["Rb"],payload:a.data.data[0]})}o.next=9;break;case 7:o.prev=7;o.t0=o["catch"](0);case 9:case"end":return o.stop()}}},e,null,[[0,7]])}));return function(r){return e.apply(this,arguments)}}()};(function(){var e=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.default:undefined;if(!e){return}e.register(m,"getReferral","/Applications/XAMPP/xamppfiles/htdocs/workload/lagosride/admin-dashboard/src/actions/referrerAction.js");e.register(p,"getReferralCount","/Applications/XAMPP/xamppfiles/htdocs/workload/lagosride/admin-dashboard/src/actions/referrerAction.js");e.register(v,"getReferralPaymentDetails","/Applications/XAMPP/xamppfiles/htdocs/workload/lagosride/admin-dashboard/src/actions/referrerAction.js")})();(function(){var r=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.leaveModule:undefined;r&&r(e)})()}).call(this,t(7)(e))}}]);