(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[34],{1359:function(e,t,a){"use strict";a.r(t);(function(e){var n=a(0);var r=a.n(n);var c=a(166);var o=a(1568);(function(){var t=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.enterModule:undefined;t&&t(e)})();var i=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.default.signature:function(e){return e};var l=function e(t){var a=t.match;return r.a.createElement("div",{className:"table-wrapper"},r.a.createElement(c["a"],{title:"Service Requests",match:a}),r.a.createElement(o["a"],null))};var s=l;t["default"]=s;(function(){var e=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.default:undefined;if(!e){return}e.register(l,"MaintenanceLog","C:\\Users\\VIC\\Desktop\\projects\\live\\lagsoride-admin-dashboard\\src\\routes\\maintenance-log\\maintenanceLog.js");e.register(s,"default","C:\\Users\\VIC\\Desktop\\projects\\live\\lagsoride-admin-dashboard\\src\\routes\\maintenance-log\\maintenanceLog.js")})();(function(){var t=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.leaveModule:undefined;t&&t(e)})()}).call(this,a(6)(e))},1476:function(e,t,a){"use strict";(function(e){a.d(t,"b",function(){return f});a.d(t,"c",function(){return m});a.d(t,"a",function(){return p});a.d(t,"d",function(){return g});var n=a(15);var r=a.n(n);var c=a(4);var o=a(3);var i=a(5);var l=a.n(i);var s=a(17);(function(){var t=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.enterModule:undefined;t&&t(e)})();function u(e,t,a,n,r,c,o){try{var i=e[c](o);var l=i.value}catch(e){a(e);return}if(i.done){t(l)}else{Promise.resolve(l).then(n,r)}}function d(e){return function(){var t=this,a=arguments;return new Promise(function(n,r){var c=e.apply(t,a);function o(e){u(c,n,r,o,i,"next",e)}function i(e){u(c,n,r,o,i,"throw",e)}o(undefined)})}}var v=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.default.signature:function(e){return e};var f=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var a=arguments.length>1?arguments[1]:undefined;var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"";var l=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"";var u=arguments.length>4&&arguments[4]!==undefined?arguments[4]:"";var v=arguments.length>5&&arguments[5]!==undefined?arguments[5]:"";return function(){var e=d(regeneratorRuntime.mark(function e(d){var f;return regeneratorRuntime.wrap(function e(m){while(1){switch(m.prev=m.next){case 0:m.prev=0;m.t0=a;if(!m.t0){m.next=5;break}m.next=5;return d(Object(c["c"])());case 5:m.t1=!a;if(!m.t1){m.next=9;break}m.next=9;return d(Object(c["d"])());case 9:m.next=11;return r.a.get("".concat(s["a"].oem,"/v1.1/admin/service-requests/?oem_id=").concat(n,"&status=").concat(l,"&service_type=").concat(u,"&vehicle_id=").concat(v,"&item_per_page=20&page=").concat(t));case 11:f=m.sent;if(f.data.status==="error"){i["NotificationManager"].error(f.data.msg)}else{d({type:o["Xb"],payload:f.data.data})}d(Object(c["a"])());d(Object(c["b"])());m.next=21;break;case 17:m.prev=17;m.t2=m["catch"](0);d(Object(c["a"])());d(Object(c["b"])());case 21:case"end":return m.stop()}}},e,null,[[0,17]])}));return function(t){return e.apply(this,arguments)}}()};var m=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"";var c=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"";return function(){var e=d(regeneratorRuntime.mark(function e(l){var u;return regeneratorRuntime.wrap(function e(d){while(1){switch(d.prev=d.next){case 0:d.prev=0;d.next=3;return r.a.get("".concat(s["a"].oem,"/v1.1/admin/service-requests/?oem_id=").concat(t,"&status=").concat(a,"&service_type=").concat(n,"&vehicle_id=").concat(c,"&component=count"));case 3:u=d.sent;if(u.data.status==="error"){i["NotificationManager"].error(u.data.msg)}else{l({type:o["Yb"],payload:u.data.data.total?u.data.data.total:0})}d.next=9;break;case 7:d.prev=7;d.t0=d["catch"](0);case 9:case"end":return d.stop()}}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()};var p=function e(t,a){return function(){var e=d(regeneratorRuntime.mark(function e(n){var l;return regeneratorRuntime.wrap(function e(u){while(1){switch(u.prev=u.next){case 0:u.prev=0;u.t0=a;if(!u.t0){u.next=5;break}u.next=5;return n(Object(c["c"])());case 5:u.t1=!a;if(!u.t1){u.next=9;break}u.next=9;return n(Object(c["d"])());case 9:u.next=11;return r.a.get("".concat(s["a"].oem,"/v1.1/admin/service-requests/").concat(t));case 11:l=u.sent;if(l.data.status==="error"){i["NotificationManager"].error(l.data.msg)}else{n({type:o["Wb"],payload:l.data.data})}n(Object(c["a"])());n(Object(c["b"])());u.next=21;break;case 17:u.prev=17;u.t2=u["catch"](0);n(Object(c["a"])());n(Object(c["b"])());case 21:case"end":return u.stop()}}},e,null,[[0,17]])}));return function(t){return e.apply(this,arguments)}}()};var g=function e(t,a){return function(){var e=d(regeneratorRuntime.mark(function e(n){var o;return regeneratorRuntime.wrap(function e(l){while(1){switch(l.prev=l.next){case 0:l.prev=0;n(Object(c["d"])());l.next=4;return r.a.put("".concat(s["a"].oem,"/v1.1/service-requests/").concat(t),a);case 4:o=l.sent;if(!(o.data.status==="error")){l.next=9;break}i["NotificationManager"].error(o.data.msg);l.next=12;break;case 9:i["NotificationManager"].success("Service request updated successfully");l.next=12;return n(p(t,true));case 12:n(Object(c["b"])());l.next=19;break;case 15:l.prev=15;l.t0=l["catch"](0);n(Object(c["b"])());console.log(l.t0);case 19:case"end":return l.stop()}}},e,null,[[0,15]])}));return function(t){return e.apply(this,arguments)}}()};(function(){var e=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.default:undefined;if(!e){return}e.register(f,"getServiceRequests","C:\\Users\\VIC\\Desktop\\projects\\live\\lagsoride-admin-dashboard\\src\\actions\\serviceRequestAction.js");e.register(m,"getServiceRequestsCount","C:\\Users\\VIC\\Desktop\\projects\\live\\lagsoride-admin-dashboard\\src\\actions\\serviceRequestAction.js");e.register(p,"getServiceRequest","C:\\Users\\VIC\\Desktop\\projects\\live\\lagsoride-admin-dashboard\\src\\actions\\serviceRequestAction.js");e.register(g,"updateServiceRequest","C:\\Users\\VIC\\Desktop\\projects\\live\\lagsoride-admin-dashboard\\src\\actions\\serviceRequestAction.js")})();(function(){var t=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.leaveModule:undefined;t&&t(e)})()}).call(this,a(6)(e))},1568:function(e,t,a){"use strict";(function(e){var n=a(0);var r=a.n(n);var c=a(223);var o=a(225);var i=a(18);var l=a(224);var s=a(117);var u=a(66);var d=a(7);var v=a(21);var f=a(32);var m=a(1476);var p=a(104);var g=a(105);var b=a.n(g);var h=a(116);var y=a(103);var j=a(40);(function(){var t=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.enterModule:undefined;t&&t(e)})();function E(e,t){return R(e)||w(e,t)||C(e,t)||k()}function k(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function C(e,t){if(!e)return;if(typeof e==="string")return x(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor)a=e.constructor.name;if(a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return x(e,t)}function x(e,t){if(t==null||t>e.length)t=e.length;for(var a=0,n=new Array(t);a<t;a++){n[a]=e[a]}return n}function w(e,t){var a=e&&(typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"]);if(a==null)return;var n=[];var r=true;var c=false;var o,i;try{for(a=a.call(e);!(r=(o=a.next()).done);r=true){n.push(o.value);if(t&&n.length===t)break}}catch(e){c=true;i=e}finally{try{if(!r&&a["return"]!=null)a["return"]()}finally{if(c)throw i}}return n}function R(e){if(Array.isArray(e))return e}var q=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.default.signature:function(e){return e};var H=a(229);var L=function e(t){var a=t.match,f=t.getServiceRequests,m=t.getServiceRequestsCount,g=t.serviceRequests,k=t.serviceRequestsCount,C=t.loading;var x=Object(d["g"])();var w=H.parse(x.location.search,{ignoreQueryPrefix:true}).page;var R=Object(n["useState"])(function(){return w===undefined?1:parseInt(w,10)}),q=E(R,2),L=q[0],O=q[1];var S=Object(n["useState"])(""),G=E(S,2),N=G[0],_=G[1];var I=Object(n["useState"])(""),A=E(I,2),M=A[0],T=A[1];Object(n["useEffect"])(function(){if(w===undefined||g.length<1){f(L,false,"",M,N);m("",M,N)}},[]);var D=function e(t){x.push("".concat(x.location.pathname,"?page=").concat(t));O(t);f(t,false,"",M,N);window.scrollTo(0,0)};var U=function e(){f(L,false,"",M,N);m("",M,N)};return r.a.createElement("div",null,r.a.createElement(u["a"],{heading:"Service Requests",fullBlock:true,style:{minHeight:"70vh"}},r.a.createElement("li",{className:"list-inline-item search-icon d-inline-block ml-5 mb-2"},r.a.createElement("select",{type:"select",className:"p-1 px-4",value:N,onChange:function e(t){return _(t.target.value)}},r.a.createElement("option",{value:""},"Request type "),j["B"].map(function(e){return r.a.createElement("option",{value:e.value,key:e.value},e.name)}))),r.a.createElement("li",{className:"list-inline-item search-icon d-inline-block ml-2 mb-2"},r.a.createElement("select",{type:"select",className:"p-1 px-4",onChange:function e(t){return T(t.target.value)},value:M},r.a.createElement("option",{value:""},"Status"),j["A"].map(function(e){return r.a.createElement("option",{value:e.value,key:e.value},e.name)}))),r.a.createElement(h["a"],{onClick:function e(){return U()},style:{height:"30px"},className:"align-items-center text-light justify-content-center",color:"success"},"Apply filter"),g.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"table-responsive",style:{minHeight:"50vh"}},r.a.createElement(c["a"],null,r.a.createElement(l["a"],null,r.a.createElement(s["a"],{hover:true},r.a.createElement(i["a"],null," Type"),r.a.createElement(i["a"],null,"Time"),r.a.createElement(i["a"],null,"Covered by warranty"),r.a.createElement(i["a"],null,"Driver name"),r.a.createElement(i["a"],null,"plate number "),r.a.createElement(i["a"],null,"Urgency "),r.a.createElement(i["a"],null,"Status"),r.a.createElement(i["a"],null,"Action"))),r.a.createElement(o["a"],null,r.a.createElement(n["Fragment"],null,g.length>0&&g.map(function(e){return r.a.createElement(s["a"],{hover:true,key:e._id},r.a.createElement(i["a"],{className:"text-capitalize"},e===null||e===void 0?void 0:e.service_type),r.a.createElement(i["a"],null,Object(j["a"])(e===null||e===void 0?void 0:e.createdAt)),r.a.createElement(i["a"],{className:"fw-bold text-".concat(e!==null&&e!==void 0&&e.covered_by_warranty?"success":"danger")},e!==null&&e!==void 0&&e.covered_by_warranty?"Yes":"No"),r.a.createElement(i["a"],null,e.driver_name),r.a.createElement(i["a"],null,e.plate_number),r.a.createElement(i["a"],{className:"fw-bold text-capitalize text-".concat(e.urgency==="low"?"warning":e.urgency==="high"?"danger":"secondary")},e.urgency?e.urgency:"N/A"),r.a.createElement(i["a"],null,r.a.createElement(y["a"],{color:Object(j["m"])(e===null||e===void 0?void 0:e.status),style:{minWidth:80}},e.status)),r.a.createElement(i["a"],null,r.a.createElement("button",{type:"button",className:"rct-link-btn text-primary",title:"view details"},r.a.createElement(v["b"],{to:"/admin/maintenance/".concat(e===null||e===void 0?void 0:e._id)},r.a.createElement("i",{className:"ti-eye"})))))}))))),r.a.createElement("div",{className:"d-flex justify-content-end align-items-center mb-0 mt-3 mr-2"},r.a.createElement(b.a,{activePage:L,itemClass:"page-item",linkClass:"page-link",itemsCountPerPage:20,totalItemsCount:k,onChange:D}))),g.length<1&&r.a.createElement(p["a"],null)))};q(L,'useHistory{history}\nuseState{[currentPage, setCurrentPage](() => {\r\n    return pageFromQuery === undefined ? 1 : parseInt(pageFromQuery, 10);\r\n  })}\nuseState{[serviceType, setServiceType]("")}\nuseState{[status, setStatus]("")}\nuseEffect{}',function(){return[d["g"]]});function O(e){return{getServiceRequests:function t(a,n,r,c,o,i){return e(Object(m["b"])(a,n,r,c,o,i))},getServiceRequestsCount:function t(a,n,r,c){return e(Object(m["c"])(a,n,r,c))}}}var S=function e(t){return{serviceRequests:t.serviceRequests.serviceRequests,serviceRequestsCount:t.serviceRequests.serviceRequestsCount,loading:t.loading.loading}};var G=Object(f["b"])(S,O)(L);t["a"]=G;(function(){var e=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.default:undefined;if(!e){return}e.register(L,"MaintenanceTable","C:\\Users\\VIC\\Desktop\\projects\\live\\lagsoride-admin-dashboard\\src\\routes\\maintenance-log\\maintenanceTable.js");e.register(O,"mapDispatchToProps","C:\\Users\\VIC\\Desktop\\projects\\live\\lagsoride-admin-dashboard\\src\\routes\\maintenance-log\\maintenanceTable.js");e.register(S,"mapStateToProps","C:\\Users\\VIC\\Desktop\\projects\\live\\lagsoride-admin-dashboard\\src\\routes\\maintenance-log\\maintenanceTable.js");e.register(G,"default","C:\\Users\\VIC\\Desktop\\projects\\live\\lagsoride-admin-dashboard\\src\\routes\\maintenance-log\\maintenanceTable.js")})();(function(){var t=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.leaveModule:undefined;t&&t(e)})()}).call(this,a(6)(e))}}]);