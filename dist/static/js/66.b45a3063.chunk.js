(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[66],{1312:function(e,t,n){"use strict";n.r(t);(function(e){n.d(t,"onGeoFenceModalClose",function(){return Y});var a=n(0);var r=n.n(a);var o=n(223);var c=n(225);var i=n(18);var l=n(224);var u=n(116);var s=n(166);var d=n(67);var f=n(62);var m=n(29);var v=n(23);var p=n(43);var g=n(104);var b=n.n(g);var h=n(52);var y=n(51);var E=n(54);var w=n(130);var x=n(64);var F=n(34);var j=n(370);var G=n(103);var k=n(203);var A=n.n(k);var N=n(118);var C=n(63);var O=n(1586);(function(){var t=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.enterModule:undefined;t&&t(e)})();function P(e){return L(e)||S(e)||I(e)||M()}function M(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function S(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function L(e){if(Array.isArray(e))return T(e)}function H(e,t,n,a,r,o,c){try{var i=e[o](c);var l=i.value}catch(e){n(e);return}if(i.done){t(l)}else{Promise.resolve(l).then(a,r)}}function R(e){return function(){var t=this,n=arguments;return new Promise(function(a,r){var o=e.apply(t,n);function c(e){H(o,a,r,c,i,"next",e)}function i(e){H(o,a,r,c,i,"throw",e)}c(undefined)})}}function D(e,t){return q(e)||_(e,t)||I(e,t)||X()}function X(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function I(e,t){if(!e)return;if(typeof e==="string")return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor)n=e.constructor.name;if(n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}function T(e,t){if(t==null||t>e.length)t=e.length;for(var n=0,a=new Array(t);n<t;n++){a[n]=e[n]}return a}function _(e,t){var n=e&&(typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"]);if(n==null)return;var a=[];var r=true;var o=false;var c,i;try{for(n=n.call(e);!(r=(c=n.next()).done);r=true){a.push(c.value);if(t&&a.length===t)break}}catch(e){o=true;i=e}finally{try{if(!r&&n["return"]!=null)n["return"]()}finally{if(o)throw i}}return a}function q(e){if(Array.isArray(e))return e}var U=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.default.signature:function(e){return e};var Y;var J=function e(t){var n=t.match,g=t.loading,F=t.createGeoFence,j=t.getGeoFence,k=t.getGeoFenceCount,A=t.geofencesCount,O=t.geofences,M=t.deleteGeoFence,S=t.updateGeoFence,L=t.searchGeoFence;var H=Object(a["useState"])(1),X=D(H,2),I=X[0],T=X[1];var _=Object(a["useState"])(false),q=D(_,2),U=q[0],J=q[1];var z=Object(a["useState"])(""),B=D(z,2),W=B[0],$=B[1];var K=Object(a["useState"])(""),Q=D(K,2),V=Q[0],Z=Q[1];var ee=Object(a["useState"])([{lon:"",lat:""},{lon:"",lat:""},{lon:"",lat:""}]),te=D(ee,2),ne=te[0],ae=te[1];var re=Object(a["useState"])(false),oe=D(re,2),ce=oe[0],ie=oe[1];var le=Object(a["useState"])(null),ue=D(le,2),se=ue[0],de=ue[1];var fe=Object(a["useState"])(null),me=D(fe,2),ve=me[0],pe=me[1];var ge=Object(a["useRef"])(null);Object(a["useEffect"])(function(){j(1,true);k()},[]);var be=function e(t){t.preventDefault();J(true)};var he=function e(t){var n;var a=O.find(function(e){return e._id===t});de(a===null||a===void 0?void 0:a._id);$(a===null||a===void 0?void 0:a.name);Z(a===null||a===void 0?void 0:a.description);var r=a===null||a===void 0?void 0:(n=a.location[0])===null||n===void 0?void 0:n.coordinates[0].slice(0,-1);var o=r.map(function(e){return{lon:e[0].toString(),lat:e[1].toString()}});ae(o);J(true);ie(true)};Y=function e(){de(null);J(false);ie(false)};var ye=function e(t){ge.current.open();pe(t)};var Ee=function(){var e=R(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function e(n){while(1){switch(n.prev=n.next){case 0:t.preventDefault();if(ce){n.next=6;break}n.next=4;return F(W,V,ne);case 4:n.next=7;break;case 6:S(se,W,V,ne);case 7:$("");Z("");ae([{lon:"",lat:""},{lon:"",lat:""},{lon:"",lat:""}]);case 10:case"end":return n.stop()}}},e)}));return function t(n){return e.apply(this,arguments)}}();var we=function e(t){T(t);j(t);window.scrollTo(0,0)};var xe=function e(){j(I)};var Fe=function e(t){L(t)};var je=function e(){k()};var Ge=function e(t,n){var a=ne.slice();if(t.target.name==="long"){a[n].lon=t.target.value}else{a[n].lat=t.target.value}ae(a)};return r.a.createElement("div",{className:"table-wrapper"},r.a.createElement(s["a"],{title:"Geo Fencing",match:n}),!g&&r.a.createElement(d["a"],{heading:"Geo Fencing",fullBlock:true},r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"list-inline-item search-icon d-inline-block ml-2 mb-2"},r.a.createElement("div",{className:"search-wrapper"},r.a.createElement(N["a"],{getPreviousData:xe,getSearchedData:Fe,setCurrentPage:T,getCount:je,placeHolder:"Geo-Fence Name"}))),r.a.createElement("div",{className:"float-right mb-2"},r.a.createElement("a",{href:"#",onClick:function e(t){return Object(C["b"])("create_setup",function(){return be(t)})},color:"primary",className:"caret btn-sm mr-10"},r.a.createElement("button",{className:"ml-2 btn btn-outline-primary btn-sm rounded"},"Add New"))),(O===null||O===void 0?void 0:O.length)>0&&r.a.createElement("div",{className:"table-responsive",style:{minHeight:"50vh"}},r.a.createElement(o["a"],null,r.a.createElement(l["a"],null,r.a.createElement(u["a"],{hover:true},r.a.createElement(i["a"],null," Name"),r.a.createElement(i["a"],null," Description"),r.a.createElement(i["a"],null," Type"),r.a.createElement(i["a"],null,"Actions"))),r.a.createElement(c["a"],null,r.a.createElement(a["Fragment"],null,O.map(function(e,t){var n;return r.a.createElement(u["a"],{hover:true,key:t},r.a.createElement(i["a"],null,e===null||e===void 0?void 0:e.name),r.a.createElement(i["a"],null,e===null||e===void 0?void 0:e.description),r.a.createElement(i["a"],null,e===null||e===void 0?void 0:(n=e.location[0])===null||n===void 0?void 0:n.type),r.a.createElement(i["a"],null,r.a.createElement("button",{type:"button",className:"rct-link-btn",onClick:function t(n){return he(e===null||e===void 0?void 0:e._id)}},r.a.createElement("i",{className:"ti-pencil"})),r.a.createElement("button",{type:"button",className:"rct-link-btn ml-lg-3 text-danger",onClick:function t(){return ye(e===null||e===void 0?void 0:e._id)}},r.a.createElement("i",{className:"ti-trash"}))))}))))),(O===null||O===void 0?void 0:O.length)<1&&r.a.createElement(G["a"],null),!g&&(O===null||O===void 0?void 0:O.length)>0&&r.a.createElement("div",{className:"d-flex justify-content-end align-items-center mb-0 mt-3 mr-2"},r.a.createElement(b.a,{activePage:I,itemClass:"page-item",linkClass:"page-link",itemsCountPerPage:20,totalItemsCount:A,onChange:we})))),r.a.createElement(h["a"],{isOpen:U,toggle:function e(){return Y()},size:"sm"},r.a.createElement(y["a"],{toggle:function e(){return Y()}},ce?"Update Area":"Create New Area"),r.a.createElement(f["a"],{onSubmit:Ee},r.a.createElement(E["a"],null,r.a.createElement("div",null,r.a.createElement(m["a"],null,"Geo-Fence Name"),r.a.createElement(v["a"],{type:"text",name:"geoFenceName",value:W,onChange:function e(t){return $(t.target.value)},required:true})),r.a.createElement("div",null,r.a.createElement(m["a"],null,"Geo-Fence Description"),r.a.createElement(v["a"],{type:"textarea",name:"geoFenceDescription",value:V,onChange:function e(t){return Z(t.target.value)},required:true})),ne.map(function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("small",{className:"text-muted fw-bold"}," ","Coordinate ".concat(t+1,"  ").concat(t===0?"(Starting Point)":"")," "),r.a.createElement("div",{className:"d-flex"},r.a.createElement("div",{className:"mr-2 mb-0 w-50"},r.a.createElement(m["a"],null,"Long"),r.a.createElement(v["a"],{type:"number",name:"long",step:"any",value:e.lon,onChange:function e(n){return Ge(n,t)},required:true})),r.a.createElement("div",{className:"ml-2 w-50"},r.a.createElement(m["a"],null,"Lat"),r.a.createElement(v["a"],{type:"number",min:-90,max:90,step:"any",name:"lat",value:e.lat,onChange:function e(n){return Ge(n,t)},required:true}))))}),r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement(p["a"],{variant:"contained",className:"mt-1 text-white btn-info ",onClick:function e(){return ae([].concat(P(ne),[{lat:"",lon:""}]))}},"Add Coordinate"))),r.a.createElement(w["a"],null,r.a.createElement(p["a"],{type:"submit",variant:"contained",className:"text-white btn-info mr-2"},ce?"Update":" Add"),r.a.createElement(p["a"],{variant:"contained",className:"btn btn-outline-danger",onClick:function e(){return Y()}},"Cancel")))),r.a.createElement(x["a"],{ref:ge,title:"Are You Sure YouÂ Want To Delete?",message:"This will delete area permanently.",onConfirm:function e(){M(ve);ge.current.close()}}))};U(J,'useState{[currentPage, setCurrentPage](1)}\nuseState{[addNewGeoFenceModal, setAddNewGeoFenceModal](false)}\nuseState{[geoFenceName, setGeoFenceName]("")}\nuseState{[geoFenceDescription, setGeoFenceDescription]("")}\nuseState{[locations, setLocations]([\n    {lon: "", lat: ""},\n    {lon: "", lat: ""},\n    {lon: "", lat: ""},\n  ])}\nuseState{[editGeoFence, setEditGeoFence](false)}\nuseState{[updateId, setUpdateId](null)}\nuseState{[deleteId, setDeleteId](null)}\nuseRef{inputEl}\nuseEffect{}');function z(e){return{createGeoFence:function t(n,a,r){return e(Object(O["a"])(n,a,r))},updateGeoFence:function t(n,a,r,o){return e(Object(O["f"])(n,a,r,o))},getGeoFence:function t(n,a){return e(Object(O["c"])(n,a))},searchGeoFence:function t(n){return e(Object(O["e"])(n))},getGeoFenceCount:function t(){return e(Object(O["d"])())},deleteGeoFence:function t(n){return e(Object(O["b"])(n))}}}var B=function e(t){return{geofences:t.geoFence.geofences,geofencesCount:t.geoFence.geofencesCount,loading:t.loading.loading}};var W=Object(F["b"])(B,z)(J);t["default"]=W;(function(){var e=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.default:undefined;if(!e){return}e.register(Y,"onGeoFenceModalClose","/Applications/XAMPP/xamppfiles/htdocs/workload/lagosride/admin-dashboard/src/routes/setup/geoFence.js");e.register(J,"GeoFence","/Applications/XAMPP/xamppfiles/htdocs/workload/lagosride/admin-dashboard/src/routes/setup/geoFence.js");e.register(z,"mapDispatchToProps","/Applications/XAMPP/xamppfiles/htdocs/workload/lagosride/admin-dashboard/src/routes/setup/geoFence.js");e.register(B,"mapStateToProps","/Applications/XAMPP/xamppfiles/htdocs/workload/lagosride/admin-dashboard/src/routes/setup/geoFence.js");e.register(W,"default","/Applications/XAMPP/xamppfiles/htdocs/workload/lagosride/admin-dashboard/src/routes/setup/geoFence.js")})();(function(){var t=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.leaveModule:undefined;t&&t(e)})()}).call(this,n(7)(e))},1586:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return v});n.d(t,"c",function(){return p});n.d(t,"d",function(){return g});n.d(t,"e",function(){return b});n.d(t,"f",function(){return h});n.d(t,"b",function(){return y});var a=n(15);var r=n.n(a);var o=n(4);var c=n(3);var i=n(5);var l=n.n(i);var u=n(16);var s=n(1312);(function(){var t=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.enterModule:undefined;t&&t(e)})();function d(e,t,n,a,r,o,c){try{var i=e[o](c);var l=i.value}catch(e){n(e);return}if(i.done){t(l)}else{Promise.resolve(l).then(a,r)}}function f(e){return function(){var t=this,n=arguments;return new Promise(function(a,r){var o=e.apply(t,n);function c(e){d(o,a,r,c,i,"next",e)}function i(e){d(o,a,r,c,i,"throw",e)}c(undefined)})}}var m=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.default.signature:function(e){return e};var v=function e(t,n,a){return function(){var e=f(regeneratorRuntime.mark(function e(c){var l,d;return regeneratorRuntime.wrap(function e(f){while(1){switch(f.prev=f.next){case 0:l={name:t,description:n,locations:a};f.prev=1;c(Object(o["d"])());f.next=5;return r.a.post("".concat(u["a"].customerCare,"/v1.1/settings/geofence"),l);case 5:d=f.sent;if(!(d.data.status==="error")){f.next=10;break}i["NotificationManager"].error(d.data.msg);f.next=15;break;case 10:f.next=12;return i["NotificationManager"].success("Geo-Fence Created Successfully!");case 12:Object(s["onGeoFenceModalClose"])();f.next=15;return c(p(1,true));case 15:c(Object(o["b"])());f.next=22;break;case 18:f.prev=18;f.t0=f["catch"](1);c(Object(o["b"])());i["NotificationManager"].error(f.t0.response.data.result);case 22:case"end":return f.stop()}}},e,null,[[1,18]])}));return function(t){return e.apply(this,arguments)}}()};var p=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var n=arguments.length>1?arguments[1]:undefined;return function(){var e=f(regeneratorRuntime.mark(function e(a){var l;return regeneratorRuntime.wrap(function e(s){while(1){switch(s.prev=s.next){case 0:s.prev=0;s.t0=n;if(!s.t0){s.next=5;break}s.next=5;return a(Object(o["c"])());case 5:!n&&a(Object(o["d"])());s.next=8;return r.a.get("".concat(u["a"].customerCare,"/v1.1/settings/geofence?page=").concat(t,"&item_per_page=20"));case 8:l=s.sent;if(l.data.status==="error"){i["NotificationManager"].error(l.data.msg)}else{a({type:c["Y"],payload:l.data.data})}a(Object(o["a"])());a(Object(o["b"])());s.next=19;break;case 14:s.prev=14;s.t1=s["catch"](0);a(Object(o["a"])());a(Object(o["b"])());i["NotificationManager"].error(s.t1.response.data.error);case 19:case"end":return s.stop()}}},e,null,[[0,14]])}));return function(t){return e.apply(this,arguments)}}()};var g=function e(){return function(){var e=f(regeneratorRuntime.mark(function e(t){var n,a,o;return regeneratorRuntime.wrap(function e(l){while(1){switch(l.prev=l.next){case 0:l.prev=0;l.next=3;return r.a.get("".concat(u["a"].customerCare,"/v1.1/settings/geofence?component=count "));case 3:n=l.sent;if(n.data.status==="error"){i["NotificationManager"].error(n.data.msg)}else{t({type:c["L"],payload:(a=n.data)===null||a===void 0?void 0:(o=a.data)===null||o===void 0?void 0:o.total})}l.next=9;break;case 7:l.prev=7;l.t0=l["catch"](0);case 9:case"end":return l.stop()}}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()};var b=function e(t){return function(){var e=f(regeneratorRuntime.mark(function e(n){var a,l;return regeneratorRuntime.wrap(function e(s){while(1){switch(s.prev=s.next){case 0:s.prev=0;n(Object(o["d"])());s.next=4;return r.a.get("".concat(u["a"].customerCare,"/v1.1/settings/geofence?q=").concat(t));case 4:a=s.sent;if(!(a.data.status==="error")){s.next=9;break}i["NotificationManager"].error(a.data.msg);s.next=14;break;case 9:s.next=11;return r.a.get("".concat(u["a"].customerCare,"/v1.1/settings/geofence?q=").concat(t,"&component=count"));case 11:l=s.sent;n({type:c["Y"],payload:a.data.data});n({type:c["L"],payload:l.data.data.total?l.data.data.total:0});case 14:n(Object(o["b"])());s.next=20;break;case 17:s.prev=17;s.t0=s["catch"](0);n(Object(o["b"])());case 20:case"end":return s.stop()}}},e,null,[[0,17]])}));return function(t){return e.apply(this,arguments)}}()};var h=function e(t,n,a,c){return function(){var e=f(regeneratorRuntime.mark(function e(l){var d,f;return regeneratorRuntime.wrap(function e(m){while(1){switch(m.prev=m.next){case 0:d={name:n,description:a,locations:c};m.prev=1;l(Object(o["d"])());m.next=5;return r.a.put("".concat(u["a"].customerCare,"/v1.1/settings/geofence/").concat(t),d);case 5:f=m.sent;if(!(f.data.status==="error")){m.next=10;break}i["NotificationManager"].error(f.data.msg);m.next=15;break;case 10:m.next=12;return i["NotificationManager"].success("Geo-Fence Updated Successfully!");case 12:Object(s["onGeoFenceModalClose"])();m.next=15;return l(p());case 15:l(Object(o["b"])());m.next=22;break;case 18:m.prev=18;m.t0=m["catch"](1);l(Object(o["b"])());i["NotificationManager"].error(m.t0.response.data.message);case 22:case"end":return m.stop()}}},e,null,[[1,18]])}));return function(t){return e.apply(this,arguments)}}()};var y=function e(t){return function(){var e=f(regeneratorRuntime.mark(function e(n){var a;return regeneratorRuntime.wrap(function e(c){while(1){switch(c.prev=c.next){case 0:c.prev=0;n(Object(o["d"])());c.next=4;return r.a.delete("".concat(u["a"].customerCare,"/v1.1/settings/geofence/").concat(t));case 4:a=c.sent;if(!(a.data.status==="error")){c.next=9;break}i["NotificationManager"].error(a.data.msg);c.next=13;break;case 9:c.next=11;return i["NotificationManager"].success("Geo-Fence deleted Successfully!");case 11:n(p(1));n(g());case 13:n(Object(o["b"])());c.next=20;break;case 16:c.prev=16;c.t0=c["catch"](0);n(Object(o["b"])());i["NotificationManager"].error(c.t0.response.data.message);case 20:case"end":return c.stop()}}},e,null,[[0,16]])}));return function(t){return e.apply(this,arguments)}}()};(function(){var e=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.default:undefined;if(!e){return}e.register(v,"createGeoFence","/Applications/XAMPP/xamppfiles/htdocs/workload/lagosride/admin-dashboard/src/actions/geoFencingAction.js");e.register(p,"getGeoFence","/Applications/XAMPP/xamppfiles/htdocs/workload/lagosride/admin-dashboard/src/actions/geoFencingAction.js");e.register(g,"getGeoFenceCount","/Applications/XAMPP/xamppfiles/htdocs/workload/lagosride/admin-dashboard/src/actions/geoFencingAction.js");e.register(b,"searchGeoFence","/Applications/XAMPP/xamppfiles/htdocs/workload/lagosride/admin-dashboard/src/actions/geoFencingAction.js");e.register(h,"updateGeoFence","/Applications/XAMPP/xamppfiles/htdocs/workload/lagosride/admin-dashboard/src/actions/geoFencingAction.js");e.register(y,"deleteGeoFence","/Applications/XAMPP/xamppfiles/htdocs/workload/lagosride/admin-dashboard/src/actions/geoFencingAction.js")})();(function(){var t=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.leaveModule:undefined;t&&t(e)})()}).call(this,n(7)(e))}}]);