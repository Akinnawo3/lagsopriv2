(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[33],{1361:function(e,t,a){"use strict";a.r(t);(function(e){var n=a(0);var r=a.n(n);var c=a(166);var o=a(1571);(function(){var t=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.enterModule:undefined;t&&t(e)})();var i=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.default.signature:function(e){return e};var l=function e(t){var a=t.match;return r.a.createElement("div",{className:"table-wrapper"},r.a.createElement(c["a"],{title:"Service Requests",match:a}),r.a.createElement(o["a"],null))};var u=l;t["default"]=u;(function(){var e=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.default:undefined;if(!e){return}e.register(l,"MaintenanceLog","/Applications/XAMPP/xamppfiles/htdocs/workload/lagosride/admin-dashboard/src/routes/maintenance-log/maintenanceLog.js");e.register(u,"default","/Applications/XAMPP/xamppfiles/htdocs/workload/lagosride/admin-dashboard/src/routes/maintenance-log/maintenanceLog.js")})();(function(){var t=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.leaveModule:undefined;t&&t(e)})()}).call(this,a(7)(e))},1478:function(e,t,a){"use strict";(function(e){a.d(t,"b",function(){return v});a.d(t,"c",function(){return m});a.d(t,"a",function(){return p});a.d(t,"d",function(){return g});var n=a(15);var r=a.n(n);var c=a(4);var o=a(3);var i=a(5);var l=a.n(i);var u=a(17);(function(){var t=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.enterModule:undefined;t&&t(e)})();function s(e,t,a,n,r,c,o){try{var i=e[c](o);var l=i.value}catch(e){a(e);return}if(i.done){t(l)}else{Promise.resolve(l).then(n,r)}}function d(e){return function(){var t=this,a=arguments;return new Promise(function(n,r){var c=e.apply(t,a);function o(e){s(c,n,r,o,i,"next",e)}function i(e){s(c,n,r,o,i,"throw",e)}o(undefined)})}}var f=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.default.signature:function(e){return e};var v=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var a=arguments.length>1?arguments[1]:undefined;var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"";var l=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"";var s=arguments.length>4&&arguments[4]!==undefined?arguments[4]:"";var f=arguments.length>5&&arguments[5]!==undefined?arguments[5]:"";return function(){var e=d(regeneratorRuntime.mark(function e(d){var v;return regeneratorRuntime.wrap(function e(m){while(1){switch(m.prev=m.next){case 0:m.prev=0;m.t0=a;if(!m.t0){m.next=5;break}m.next=5;return d(Object(c["c"])());case 5:m.t1=!a;if(!m.t1){m.next=9;break}m.next=9;return d(Object(c["d"])());case 9:m.next=11;return r.a.get("".concat(u["a"].oem,"/v1.1/admin/service-requests/?oem_id=").concat(n,"&status=").concat(l,"&service_type=").concat(s,"&vehicle_id=").concat(f,"&item_per_page=20&page=").concat(t));case 11:v=m.sent;if(v.data.status==="error"){i["NotificationManager"].error(v.data.msg)}else{d({type:o["Zb"],payload:v.data.data})}d(Object(c["a"])());d(Object(c["b"])());m.next=21;break;case 17:m.prev=17;m.t2=m["catch"](0);d(Object(c["a"])());d(Object(c["b"])());case 21:case"end":return m.stop()}}},e,null,[[0,17]])}));return function(t){return e.apply(this,arguments)}}()};var m=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"";var c=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"";return function(){var e=d(regeneratorRuntime.mark(function e(l){var s;return regeneratorRuntime.wrap(function e(d){while(1){switch(d.prev=d.next){case 0:d.prev=0;d.next=3;return r.a.get("".concat(u["a"].oem,"/v1.1/admin/service-requests/?oem_id=").concat(t,"&status=").concat(a,"&service_type=").concat(n,"&vehicle_id=").concat(c,"&component=count"));case 3:s=d.sent;if(s.data.status==="error"){i["NotificationManager"].error(s.data.msg)}else{l({type:o["ac"],payload:s.data.data.total?s.data.data.total:0})}d.next=9;break;case 7:d.prev=7;d.t0=d["catch"](0);case 9:case"end":return d.stop()}}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()};var p=function e(t,a){return function(){var e=d(regeneratorRuntime.mark(function e(n){var l;return regeneratorRuntime.wrap(function e(s){while(1){switch(s.prev=s.next){case 0:s.prev=0;s.t0=a;if(!s.t0){s.next=5;break}s.next=5;return n(Object(c["c"])());case 5:s.t1=!a;if(!s.t1){s.next=9;break}s.next=9;return n(Object(c["d"])());case 9:s.next=11;return r.a.get("".concat(u["a"].oem,"/v1.1/admin/service-requests/").concat(t));case 11:l=s.sent;if(l.data.status==="error"){i["NotificationManager"].error(l.data.msg)}else{n({type:o["Yb"],payload:l.data.data})}n(Object(c["a"])());n(Object(c["b"])());s.next=21;break;case 17:s.prev=17;s.t2=s["catch"](0);n(Object(c["a"])());n(Object(c["b"])());case 21:case"end":return s.stop()}}},e,null,[[0,17]])}));return function(t){return e.apply(this,arguments)}}()};var g=function e(t,a){return function(){var e=d(regeneratorRuntime.mark(function e(n){var o;return regeneratorRuntime.wrap(function e(l){while(1){switch(l.prev=l.next){case 0:l.prev=0;n(Object(c["d"])());l.next=4;return r.a.put("".concat(u["a"].oem,"/v1.1/service-requests/").concat(t),a);case 4:o=l.sent;if(!(o.data.status==="error")){l.next=9;break}i["NotificationManager"].error(o.data.msg);l.next=12;break;case 9:i["NotificationManager"].success("Service request updated successfully");l.next=12;return n(p(t,true));case 12:n(Object(c["b"])());l.next=19;break;case 15:l.prev=15;l.t0=l["catch"](0);n(Object(c["b"])());console.log(l.t0);case 19:case"end":return l.stop()}}},e,null,[[0,15]])}));return function(t){return e.apply(this,arguments)}}()};(function(){var e=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.default:undefined;if(!e){return}e.register(v,"getServiceRequests","/Applications/XAMPP/xamppfiles/htdocs/workload/lagosride/admin-dashboard/src/actions/serviceRequestAction.js");e.register(m,"getServiceRequestsCount","/Applications/XAMPP/xamppfiles/htdocs/workload/lagosride/admin-dashboard/src/actions/serviceRequestAction.js");e.register(p,"getServiceRequest","/Applications/XAMPP/xamppfiles/htdocs/workload/lagosride/admin-dashboard/src/actions/serviceRequestAction.js");e.register(g,"updateServiceRequest","/Applications/XAMPP/xamppfiles/htdocs/workload/lagosride/admin-dashboard/src/actions/serviceRequestAction.js")})();(function(){var t=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.leaveModule:undefined;t&&t(e)})()}).call(this,a(7)(e))},1571:function(e,t,a){"use strict";(function(e){var n=a(0);var r=a.n(n);var c=a(223);var o=a(225);var i=a(18);var l=a(224);var u=a(116);var s=a(66);var d=a(6);var f=a(20);var v=a(34);var m=a(1478);var p=a(103);var g=a(104);var b=a.n(g);var h=a(115);var y=a(102);var E=a(40);(function(){var t=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.enterModule:undefined;t&&t(e)})();function x(e,t){return R(e)||A(e,t)||j(e,t)||w()}function w(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function j(e,t){if(!e)return;if(typeof e==="string")return k(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor)a=e.constructor.name;if(a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return k(e,t)}function k(e,t){if(t==null||t>e.length)t=e.length;for(var a=0,n=new Array(t);a<t;a++){n[a]=e[a]}return n}function A(e,t){var a=e&&(typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"]);if(a==null)return;var n=[];var r=true;var c=false;var o,i;try{for(a=a.call(e);!(r=(o=a.next()).done);r=true){n.push(o.value);if(t&&n.length===t)break}}catch(e){c=true;i=e}finally{try{if(!r&&a["return"]!=null)a["return"]()}finally{if(c)throw i}}return n}function R(e){if(Array.isArray(e))return e}var P=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.default.signature:function(e){return e};var q=a(229);var H=function e(t){var a=t.match,v=t.getServiceRequests,m=t.getServiceRequestsCount,g=t.serviceRequests,w=t.serviceRequestsCount,j=t.loading;var k=Object(d["g"])();var A=q.parse(k.location.search,{ignoreQueryPrefix:true}).page;var R=Object(n["useState"])(function(){return A===undefined?1:parseInt(A,10)}),P=x(R,2),H=P[0],L=P[1];var O=Object(n["useState"])(""),S=x(O,2),G=S[0],M=S[1];var N=Object(n["useState"])(""),C=x(N,2),_=C[0],T=C[1];Object(n["useEffect"])(function(){if(A===undefined||g.length<1){v(H,false,"",_,G);m("",_,G)}},[]);var X=function e(t){k.push("".concat(k.location.pathname,"?page=").concat(t));L(t);v(t,false,"",_,G);window.scrollTo(0,0)};var I=function e(){v(H,false,"",_,G);m("",_,G)};return r.a.createElement("div",null,r.a.createElement(s["a"],{heading:"Service Requests",fullBlock:true,style:{minHeight:"70vh"}},r.a.createElement("li",{className:"list-inline-item search-icon d-inline-block ml-5 mb-2"},r.a.createElement("select",{type:"select",className:"p-1 px-4",value:G,onChange:function e(t){return M(t.target.value)}},r.a.createElement("option",{value:""},"Request type "),E["B"].map(function(e){return r.a.createElement("option",{value:e.value,key:e.value},e.name)}))),r.a.createElement("li",{className:"list-inline-item search-icon d-inline-block ml-2 mb-2"},r.a.createElement("select",{type:"select",className:"p-1 px-4",onChange:function e(t){return T(t.target.value)},value:_},r.a.createElement("option",{value:""},"Status"),E["A"].map(function(e){return r.a.createElement("option",{value:e.value,key:e.value},e.name)}))),r.a.createElement(h["a"],{onClick:function e(){return I()},style:{height:"30px"},className:"align-items-center text-light justify-content-center",color:"success"},"Apply filter"),g.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"table-responsive",style:{minHeight:"50vh"}},r.a.createElement(c["a"],null,r.a.createElement(l["a"],null,r.a.createElement(u["a"],{hover:true},r.a.createElement(i["a"],null," Type"),r.a.createElement(i["a"],null,"Time"),r.a.createElement(i["a"],null,"Covered by warranty"),r.a.createElement(i["a"],null,"Driver name"),r.a.createElement(i["a"],null,"plate number "),r.a.createElement(i["a"],null,"Urgency "),r.a.createElement(i["a"],null,"Status"),r.a.createElement(i["a"],null,"Action"))),r.a.createElement(o["a"],null,r.a.createElement(n["Fragment"],null,g.length>0&&g.map(function(e){return r.a.createElement(u["a"],{hover:true,key:e._id},r.a.createElement(i["a"],{className:"text-capitalize"},e===null||e===void 0?void 0:e.service_type),r.a.createElement(i["a"],null,Object(E["a"])(e===null||e===void 0?void 0:e.createdAt)),r.a.createElement(i["a"],{className:"fw-bold text-".concat(e!==null&&e!==void 0&&e.covered_by_warranty?"success":"danger")},e!==null&&e!==void 0&&e.covered_by_warranty?"Yes":"No"),r.a.createElement(i["a"],null,e.driver_name),r.a.createElement(i["a"],null,e.plate_number),r.a.createElement(i["a"],{className:"fw-bold text-capitalize text-".concat(e.urgency==="low"?"warning":e.urgency==="high"?"danger":"secondary")},e.urgency?e.urgency:"N/A"),r.a.createElement(i["a"],null,r.a.createElement(y["a"],{color:Object(E["m"])(e===null||e===void 0?void 0:e.status),style:{minWidth:80}},e.status)),r.a.createElement(i["a"],null,r.a.createElement("button",{type:"button",className:"rct-link-btn text-primary",title:"view details"},r.a.createElement(f["b"],{to:"/admin/maintenance/".concat(e===null||e===void 0?void 0:e._id)},r.a.createElement("i",{className:"ti-eye"})))))}))))),r.a.createElement("div",{className:"d-flex justify-content-end align-items-center mb-0 mt-3 mr-2"},r.a.createElement(b.a,{activePage:H,itemClass:"page-item",linkClass:"page-link",itemsCountPerPage:20,totalItemsCount:w,onChange:X}))),g.length<1&&r.a.createElement(p["a"],null)))};P(H,'useHistory{history}\nuseState{[currentPage, setCurrentPage](() => {\n    return pageFromQuery === undefined ? 1 : parseInt(pageFromQuery, 10);\n  })}\nuseState{[serviceType, setServiceType]("")}\nuseState{[status, setStatus]("")}\nuseEffect{}',function(){return[d["g"]]});function L(e){return{getServiceRequests:function t(a,n,r,c,o,i){return e(Object(m["b"])(a,n,r,c,o,i))},getServiceRequestsCount:function t(a,n,r,c){return e(Object(m["c"])(a,n,r,c))}}}var O=function e(t){return{serviceRequests:t.serviceRequests.serviceRequests,serviceRequestsCount:t.serviceRequests.serviceRequestsCount,loading:t.loading.loading}};var S=Object(v["b"])(O,L)(H);t["a"]=S;(function(){var e=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.default:undefined;if(!e){return}e.register(H,"MaintenanceTable","/Applications/XAMPP/xamppfiles/htdocs/workload/lagosride/admin-dashboard/src/routes/maintenance-log/maintenanceTable.js");e.register(L,"mapDispatchToProps","/Applications/XAMPP/xamppfiles/htdocs/workload/lagosride/admin-dashboard/src/routes/maintenance-log/maintenanceTable.js");e.register(O,"mapStateToProps","/Applications/XAMPP/xamppfiles/htdocs/workload/lagosride/admin-dashboard/src/routes/maintenance-log/maintenanceTable.js");e.register(S,"default","/Applications/XAMPP/xamppfiles/htdocs/workload/lagosride/admin-dashboard/src/routes/maintenance-log/maintenanceTable.js")})();(function(){var t=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.leaveModule:undefined;t&&t(e)})()}).call(this,a(7)(e))}}]);