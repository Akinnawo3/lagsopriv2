(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[56],{1355:function(e,t,r){"use strict";r.r(t);(function(e){var a=r(0);var n=r.n(a);var o=r(223);var s=r(225);var c=r(18);var i=r(224);var u=r(117);var l=r(166);var d=r(66);var f=r(21);var p=r(32);var m=r(1463);var g=r(104);var v=r(105);var b=r.n(v);var h=r(103);var y=r(8);var j=r.n(y);(function(){var t=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.enterModule:undefined;t&&t(e)})();function x(e,t){return C(e)||w(e,t)||k(e,t)||O()}function O(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function k(e,t){if(!e)return;if(typeof e==="string")return S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S(e,t)}function S(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,a=new Array(t);r<t;r++){a[r]=e[r]}return a}function w(e,t){var r=e&&(typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"]);if(r==null)return;var a=[];var n=true;var o=false;var s,c;try{for(r=r.call(e);!(n=(s=r.next()).done);n=true){a.push(s.value);if(t&&a.length===t)break}}catch(e){o=true;c=e}finally{try{if(!n&&r["return"]!=null)r["return"]()}finally{if(o)throw c}}return a}function C(e){if(Array.isArray(e))return e}var E=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.default.signature:function(e){return e};var N=r(229);var M=function e(t){var r=t.history,p=t.match,m=t.getSOS,v=t.sos,y=t.loading,O=t.getSOSCount,k=t.sosCount;var S=N.parse(r.location.search,{ignoreQueryPrefix:true}).page;var w=Object(a["useState"])(function(){return S===undefined?1:parseInt(S,10)}),C=x(w,2),E=C[0],M=C[1];Object(a["useEffect"])(function(){if(S===undefined||v.length<1){m(1,true);O()}},[]);var A=function e(t){r.push("".concat(r.location.pathname,"?page=").concat(t));M(t);m(t);window.scrollTo(0,0)};return n.a.createElement("div",{className:"table-wrapper"},n.a.createElement(l["a"],{title:"Emergency",match:p}),!y&&(v===null||v===void 0?void 0:v.length)>0&&n.a.createElement(d["a"],{heading:"Emergency",fullBlock:true,style:{minHeight:"70vh"}},n.a.createElement("div",{className:"table-responsive",style:{minHeight:"50vh"}},n.a.createElement(o["a"],null,n.a.createElement(i["a"],null,n.a.createElement(u["a"],{hover:true},n.a.createElement(c["a"],null,"Reporter"),n.a.createElement(c["a"],null,"Address"),n.a.createElement(c["a"],null,"Latitude"),n.a.createElement(c["a"],null,"Longitude"),n.a.createElement(c["a"],null,"Time of Report"),n.a.createElement(c["a"],null,"Status"),n.a.createElement(c["a"],null,"Action"))),n.a.createElement(s["a"],null,n.a.createElement(a["Fragment"],null,v.length>0&&v.map(function(e){var t;return n.a.createElement(u["a"],{hover:true,key:e.id},n.a.createElement(c["a"],null,(t=e.user_data)===null||t===void 0?void 0:t.user_type),n.a.createElement(c["a"],null,e.address),n.a.createElement(c["a"],null,e.latitude),n.a.createElement(c["a"],null,e.longitude),n.a.createElement(c["a"],null,j()(e.createdAt).format("LLLL")),n.a.createElement(c["a"],null,n.a.createElement(h["a"],{color:e.status===0?"danger":"success"},e.status===0?"Unresolved":"Resolved")),n.a.createElement(c["a"],null,n.a.createElement("button",{type:"button",className:"rct-link-btn text-primary",title:"view details"},n.a.createElement(f["b"],{to:"/admin/emergency/".concat(e.sos_id)},n.a.createElement("i",{className:"ti-eye"})))))}))))),n.a.createElement("div",{className:"d-flex justify-content-end align-items-center mb-0 mt-3 mr-2"},n.a.createElement(b.a,{activePage:E,itemClass:"page-item",linkClass:"page-link",itemsCountPerPage:20,totalItemsCount:k,onChange:A}))),v.length<1&&n.a.createElement(g["a"],null))};E(M,"useState{[currentPage, setCurrentPage](() => {\r\n    return pageFromQuery === undefined ? 1 : parseInt(pageFromQuery, 10);\r\n  })}\nuseEffect{}");function A(e){return{getSOS:function t(r,a){return e(Object(m["e"])(r,a))},getSOSCount:function t(){return e(Object(m["f"])())}}}var R=function e(t){return{sos:t.sos.sos,sosCount:t.sos.sosCount,loading:t.loading.loading}};var L=Object(p["b"])(R,A)(M);t["default"]=L;(function(){var e=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.default:undefined;if(!e){return}e.register(M,"Emergency","C:\\Users\\VIC\\Desktop\\projects\\live\\lagsoride-admin-dashboard\\src\\routes\\emergency\\emergency.js");e.register(A,"mapDispatchToProps","C:\\Users\\VIC\\Desktop\\projects\\live\\lagsoride-admin-dashboard\\src\\routes\\emergency\\emergency.js");e.register(R,"mapStateToProps","C:\\Users\\VIC\\Desktop\\projects\\live\\lagsoride-admin-dashboard\\src\\routes\\emergency\\emergency.js");e.register(L,"default","C:\\Users\\VIC\\Desktop\\projects\\live\\lagsoride-admin-dashboard\\src\\routes\\emergency\\emergency.js")})();(function(){var t=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.leaveModule:undefined;t&&t(e)})()}).call(this,r(6)(e))},1463:function(e,t,r){"use strict";(function(e){r.d(t,"e",function(){return p});r.d(t,"g",function(){return m});r.d(t,"j",function(){return g});r.d(t,"i",function(){return v});r.d(t,"f",function(){return b});r.d(t,"b",function(){return h});r.d(t,"a",function(){return y});r.d(t,"h",function(){return j});r.d(t,"d",function(){return x});r.d(t,"c",function(){return O});var a=r(15);var n=r.n(a);var o=r(3);var s=r(4);var c=r(5);var i=r.n(c);var u=r(17);(function(){var t=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.enterModule:undefined;t&&t(e)})();function l(e,t,r,a,n,o,s){try{var c=e[o](s);var i=c.value}catch(e){r(e);return}if(c.done){t(i)}else{Promise.resolve(i).then(a,n)}}function d(e){return function(){var t=this,r=arguments;return new Promise(function(a,n){var o=e.apply(t,r);function s(e){l(o,a,n,s,c,"next",e)}function c(e){l(o,a,n,s,c,"throw",e)}s(undefined)})}}var f=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.default.signature:function(e){return e};var p=function e(t,r){return function(){var e=d(regeneratorRuntime.mark(function e(a){var i;return regeneratorRuntime.wrap(function e(l){while(1){switch(l.prev=l.next){case 0:l.prev=0;r&&a(Object(s["c"])());!r&&a(Object(s["d"])());l.next=5;return n.a.get("".concat(u["a"].sos,"/v1.1/sos/?page=").concat(t,"&item_per_page=20"));case 5:i=l.sent;if(i.data.status==="error"){c["NotificationManager"].error(i.data.msg)}else{a({type:o["cc"],payload:i.data.data})}a(Object(s["a"])());a(Object(s["b"])());l.next=16;break;case 11:l.prev=11;l.t0=l["catch"](0);a(Object(s["a"])());a(Object(s["b"])());c["NotificationManager"].error(l.t0.response.data.message);case 16:case"end":return l.stop()}}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}()};var m=function e(t,r){return function(){var e=d(regeneratorRuntime.mark(function e(a){var i,l,d,f;return regeneratorRuntime.wrap(function e(p){while(1){switch(p.prev=p.next){case 0:p.prev=0;r&&a(Object(s["c"])());!r&&a(Object(s["d"])());p.next=5;return n.a.get("".concat(u["a"].sos,"/v1.1/sos/?sos_id=").concat(t));case 5:i=p.sent;if(!(i.data.status==="error")){p.next=10;break}c["NotificationManager"].error(i.data.msg);p.next=16;break;case 10:if(!(i!==null&&i!==void 0&&(l=i.data)!==null&&l!==void 0&&(d=l.data)!==null&&d!==void 0&&d.user_id)){p.next=15;break}p.next=13;return n.a.get("".concat(u["a"].user,"/v1.1/admin/users/").concat(i.data.data.user_id));case 13:f=p.sent;a({type:o["gc"],payload:f.data.data});case 15:a({type:o["ec"],payload:i.data.data});case 16:a(Object(s["a"])());a(Object(s["b"])());p.next=25;break;case 20:p.prev=20;p.t0=p["catch"](0);a(Object(s["a"])());a(Object(s["b"])());c["NotificationManager"].error(p.t0.response.data.message);case 25:case"end":return p.stop()}}},e,null,[[0,20]])}));return function(t){return e.apply(this,arguments)}}()};var g=function e(t){return function(){var e=d(regeneratorRuntime.mark(function e(r){var a;return regeneratorRuntime.wrap(function e(o){while(1){switch(o.prev=o.next){case 0:o.prev=0;r(Object(s["d"])());o.next=4;return n.a.post("".concat(u["a"].sos,"/v1.1/admin/recipient-contact"),{phone_number:t});case 4:a=o.sent;if(!(a.data.status==="error")){o.next=9;break}c["NotificationManager"].error(a.data.msg);o.next=13;break;case 9:o.next=11;return r(j());case 11:o.next=13;return c["NotificationManager"].success("Number Added Successfully!");case 13:r(Object(s["b"])());o.next=21;break;case 16:o.prev=16;o.t0=o["catch"](0);r(Object(s["b"])());c["NotificationManager"].error(o.t0.response.data.message);console.log(o.t0.response.data);case 21:case"end":return o.stop()}}},e,null,[[0,16]])}));return function(t){return e.apply(this,arguments)}}()};var v=function e(t){return function(){var e=d(regeneratorRuntime.mark(function e(r){var a;return regeneratorRuntime.wrap(function e(o){while(1){switch(o.prev=o.next){case 0:o.prev=0;r(Object(s["d"])());o.next=4;return n.a.post("".concat(u["a"].sos,"/v1.1/admin/recipient-contact"),{email:t});case 4:a=o.sent;if(!(a.data.status==="error")){o.next=9;break}c["NotificationManager"].error(a.data.msg);o.next=13;break;case 9:o.next=11;return r(j());case 11:o.next=13;return c["NotificationManager"].success("Email Added Successfully!");case 13:r(Object(s["b"])());o.next=21;break;case 16:o.prev=16;o.t0=o["catch"](0);r(Object(s["b"])());c["NotificationManager"].error(o.t0.response.data.message);console.log(o.t0.response.data);case 21:case"end":return o.stop()}}},e,null,[[0,16]])}));return function(t){return e.apply(this,arguments)}}()};var b=function e(){return function(){var e=d(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function e(a){while(1){switch(a.prev=a.next){case 0:a.prev=0;a.next=3;return n.a.get("".concat(u["a"].sos,"/v1.1/sos/?component=count"));case 3:r=a.sent;if(r.data.status==="error"){c["NotificationManager"].error(r.data.msg)}else{t({type:o["dc"],payload:r.data.data})}a.next=9;break;case 7:a.prev=7;a.t0=a["catch"](0);case 9:case"end":return a.stop()}}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()};var h=function e(t,r){return function(){var e=d(regeneratorRuntime.mark(function e(a){var o;return regeneratorRuntime.wrap(function e(i){while(1){switch(i.prev=i.next){case 0:i.prev=0;a(Object(s["d"])());i.next=4;return n.a.put("".concat(u["a"].sos,"/v1.1/sos/status"),{sos_id:t,status:r});case 4:o=i.sent;if(!(o.data.status==="error")){i.next=9;break}c["NotificationManager"].error(o.data.msg);i.next=13;break;case 9:i.next=11;return a(m(t));case 11:i.next=13;return c["NotificationManager"].success("SOS Status Updated Successfully!");case 13:a(Object(s["b"])());i.next=21;break;case 16:i.prev=16;i.t0=i["catch"](0);a(Object(s["b"])());c["NotificationManager"].error(i.t0.response.data.message);console.log(i.t0.response.data);case 21:case"end":return i.stop()}}},e,null,[[0,16]])}));return function(t){return e.apply(this,arguments)}}()};var y=function e(t){return function(){var e=d(regeneratorRuntime.mark(function e(r){var a;return regeneratorRuntime.wrap(function e(o){while(1){switch(o.prev=o.next){case 0:o.prev=0;r(Object(s["d"])());o.next=4;return n.a.put("".concat(u["a"].sos,"/v1.1/sos/assign"),{email:t});case 4:a=o.sent;if(!(a.data.status==="error")){o.next=9;break}c["NotificationManager"].error(a.data.msg);o.next=11;break;case 9:o.next=11;return c["NotificationManager"].success("SOS Assigned Successfully!");case 11:r(Object(s["b"])());o.next=19;break;case 14:o.prev=14;o.t0=o["catch"](0);r(Object(s["b"])());c["NotificationManager"].error(o.t0.response.data.message);console.log(o.t0.response.data);case 19:case"end":return o.stop()}}},e,null,[[0,14]])}));return function(t){return e.apply(this,arguments)}}()};var j=function e(t){return function(){var e=d(regeneratorRuntime.mark(function e(r){var a;return regeneratorRuntime.wrap(function e(i){while(1){switch(i.prev=i.next){case 0:i.prev=0;t&&r(Object(s["c"])());!t&&r(Object(s["d"])());i.next=5;return n.a.get("".concat(u["a"].sos,"/v1.1/admin/recipient-contact"));case 5:a=i.sent;if(a.data.status==="error"){c["NotificationManager"].error(a.data.msg)}else{r({type:o["fc"],payload:a.data.data})}r(Object(s["a"])());r(Object(s["b"])());i.next=16;break;case 11:i.prev=11;i.t0=i["catch"](0);r(Object(s["b"])());r(Object(s["a"])());c["NotificationManager"].error(i.t0.response.data.message);case 16:case"end":return i.stop()}}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}()};var x=function e(t){return function(){var e=d(regeneratorRuntime.mark(function e(r){var a;return regeneratorRuntime.wrap(function e(o){while(1){switch(o.prev=o.next){case 0:console.log(t);o.prev=1;r(Object(s["d"])());o.next=5;return n.a.delete("".concat(u["a"].sos,"/v1.1/admin/recipient-contact/").concat(t));case 5:a=o.sent;if(!(a.data.status==="error")){o.next=10;break}c["NotificationManager"].error(a.data.msg);o.next=14;break;case 10:o.next=12;return r(j());case 12:o.next=14;return c["NotificationManager"].success("Number Deleted Successfully!");case 14:r(Object(s["b"])());o.next=21;break;case 17:o.prev=17;o.t0=o["catch"](1);r(Object(s["b"])());c["NotificationManager"].error(o.t0.response.data.message);case 21:case"end":return o.stop()}}},e,null,[[1,17]])}));return function(t){return e.apply(this,arguments)}}()};var O=function e(t){return function(){var e=d(regeneratorRuntime.mark(function e(r){var a;return regeneratorRuntime.wrap(function e(o){while(1){switch(o.prev=o.next){case 0:o.prev=0;r(Object(s["d"])());o.next=4;return n.a.delete("".concat(u["a"].sos,"/v1.1/admin/recipient-contact/").concat(t));case 4:a=o.sent;if(!(a.data.status==="error")){o.next=9;break}c["NotificationManager"].error(a.data.msg);o.next=13;break;case 9:o.next=11;return r(j());case 11:o.next=13;return c["NotificationManager"].success("Email Deleted Successfully!");case 13:r(Object(s["b"])());o.next=20;break;case 16:o.prev=16;o.t0=o["catch"](0);r(Object(s["b"])());c["NotificationManager"].error(o.t0.response.data.message);case 20:case"end":return o.stop()}}},e,null,[[0,16]])}));return function(t){return e.apply(this,arguments)}}()};(function(){var e=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.default:undefined;if(!e){return}e.register(p,"getSOS","C:\\Users\\VIC\\Desktop\\projects\\live\\lagsoride-admin-dashboard\\src\\actions\\emergencyAction.js");e.register(m,"getSOSDetails","C:\\Users\\VIC\\Desktop\\projects\\live\\lagsoride-admin-dashboard\\src\\actions\\emergencyAction.js");e.register(g,"setSOSNumber","C:\\Users\\VIC\\Desktop\\projects\\live\\lagsoride-admin-dashboard\\src\\actions\\emergencyAction.js");e.register(v,"setSOSEmail","C:\\Users\\VIC\\Desktop\\projects\\live\\lagsoride-admin-dashboard\\src\\actions\\emergencyAction.js");e.register(b,"getSOSCount","C:\\Users\\VIC\\Desktop\\projects\\live\\lagsoride-admin-dashboard\\src\\actions\\emergencyAction.js");e.register(h,"changeSOStatus","C:\\Users\\VIC\\Desktop\\projects\\live\\lagsoride-admin-dashboard\\src\\actions\\emergencyAction.js");e.register(y,"assignSOSToAdmin","C:\\Users\\VIC\\Desktop\\projects\\live\\lagsoride-admin-dashboard\\src\\actions\\emergencyAction.js");e.register(j,"getSOSNumber","C:\\Users\\VIC\\Desktop\\projects\\live\\lagsoride-admin-dashboard\\src\\actions\\emergencyAction.js");e.register(x,"deleteSOSNumber","C:\\Users\\VIC\\Desktop\\projects\\live\\lagsoride-admin-dashboard\\src\\actions\\emergencyAction.js");e.register(O,"deleteSOSEmail","C:\\Users\\VIC\\Desktop\\projects\\live\\lagsoride-admin-dashboard\\src\\actions\\emergencyAction.js")})();(function(){var t=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.leaveModule:undefined;t&&t(e)})()}).call(this,r(6)(e))}}]);