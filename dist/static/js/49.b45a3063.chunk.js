(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[49],{1376:function(e,t,r){"use strict";r.r(t);(function(e){var a=r(0);var n=r.n(a);var o=r(166);var i=r(34);var l=r(1448);var u=r(1461);(function(){var t=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.enterModule:undefined;t&&t(e)})();function c(e,t){return p(e)||f(e,t)||d(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e,t){if(!e)return;if(typeof e==="string")return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}function m(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,a=new Array(t);r<t;r++){a[r]=e[r]}return a}function f(e,t){var r=e&&(typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"]);if(r==null)return;var a=[];var n=true;var o=false;var i,l;try{for(r=r.call(e);!(n=(i=r.next()).done);n=true){a.push(i.value);if(t&&a.length===t)break}}catch(e){o=true;l=e}finally{try{if(!n&&r["return"]!=null)r["return"]()}finally{if(o)throw l}}return a}function p(e){if(Array.isArray(e))return e}var v=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.default.signature:function(e){return e};var b=r(229);var g=function e(t){var r=t.history,i=t.match,l=t.getTrips,s=t.getTripCount,d=t.trips;var m=b.parse(r.location.search,{ignoreQueryPrefix:true}).page;var f=Object(a["useState"])(function(){return m===undefined?1:parseInt(m,10)}),p=c(f,2),v=p[0],g=p[1];Object(a["useEffect"])(function(){if(m===undefined||d.length<1){l(1,"",true);s()}},[]);return n.a.createElement("div",{className:"table-wrapper"},n.a.createElement(o["a"],{title:"Trips",match:i}),n.a.createElement(u["a"],{status:"",header:"All trips"}))};v(g,"useState{[currentPage, setCurrentPage](() => {\n    return pageFromQuery === undefined ? 1 : parseInt(pageFromQuery, 10);\n  })}\nuseEffect{}");function h(e){return{getTrips:function t(r,a,n){return e(Object(l["x"])(r,a,n))},getTripCount:function t(r){return e(Object(l["r"])(r))}}}var y=function e(t){return{trips:t.trips.trips,tripCount:t.trips.tripCount,isLoading:t.loading.loading}};var E=Object(i["b"])(y,h)(g);t["default"]=E;(function(){var e=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.default:undefined;if(!e){return}e.register(g,"Trips","/Applications/XAMPP/xamppfiles/htdocs/workload/lagosride/admin-dashboard/src/routes/trips/trips.js");e.register(h,"mapDispatchToProps","/Applications/XAMPP/xamppfiles/htdocs/workload/lagosride/admin-dashboard/src/routes/trips/trips.js");e.register(y,"mapStateToProps","/Applications/XAMPP/xamppfiles/htdocs/workload/lagosride/admin-dashboard/src/routes/trips/trips.js");e.register(E,"default","/Applications/XAMPP/xamppfiles/htdocs/workload/lagosride/admin-dashboard/src/routes/trips/trips.js")})();(function(){var t=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.leaveModule:undefined;t&&t(e)})()}).call(this,r(7)(e))},1461:function(e,t,r){"use strict";(function(e){var a=r(0);var n=r.n(a);var o=r(223);var i=r(225);var l=r(18);var u=r(224);var c=r(116);var s=r(115);var d=r(1465);var m=r(102);var f=r(67);var p=r(34);var v=r(1448);var b=r(20);var g=r(104);var h=r.n(g);var y=r(103);var E=r(118);var _=r(6);var j=r(64);var w=r(40);(function(){var t=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.enterModule:undefined;t&&t(e)})();function T(e,t,r,a,n,o,i){try{var l=e[o](i);var u=l.value}catch(e){r(e);return}if(l.done){t(u)}else{Promise.resolve(u).then(a,n)}}function P(e){return function(){var t=this,r=arguments;return new Promise(function(a,n){var o=e.apply(t,r);function i(e){T(o,a,n,i,l,"next",e)}function l(e){T(o,a,n,i,l,"throw",e)}i(undefined)})}}function x(e,t){return S(e)||k(e,t)||C(e,t)||A()}function A(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function C(e,t){if(!e)return;if(typeof e==="string")return O(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O(e,t)}function O(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,a=new Array(t);r<t;r++){a[r]=e[r]}return a}function k(e,t){var r=e&&(typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"]);if(r==null)return;var a=[];var n=true;var o=false;var i,l;try{for(r=r.call(e);!(n=(i=r.next()).done);n=true){a.push(i.value);if(t&&a.length===t)break}}catch(e){o=true;l=e}finally{try{if(!n&&r["return"]!=null)r["return"]()}finally{if(o)throw l}}return a}function S(e){if(Array.isArray(e))return e}var N=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.default.signature:function(e){return e};var H=r(229);var L=function e(t){var r=t.trips,p=t.getTrips,v=t.isLoading,g=t.tripCount,T=t.status,A=t.header,C=t.searchTrips,O=t.getTripCount,k=t.getCancelledTrips,S=t.getCancelledTripCount,N=t.getTripExport;var L=Object(_["g"])();var M=H.parse(L.location.search,{ignoreQueryPrefix:true}).page;var G=Object(a["useState"])(function(){return M===undefined?1:parseInt(M,10)}),F=x(G,2),D=F[0],I=F[1];var X=Object(a["useState"])(20),R=x(X,1),Q=R[0];var V=Object(a["useState"])(""),q=x(V,2),z=q[0],J=q[1];var U=Object(a["useState"])(""),$=x(U,2),B=$[0],K=$[1];var W=Object(a["useRef"])(null);var Y=function(){var e=P(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function e(r){while(1){switch(r.prev=r.next){case 0:L.push("".concat(L.location.pathname,"?page=").concat(t));r.next=3;return I(t);case 3:if(!(T==="driver_not_found")){r.next=8;break}r.next=6;return k(t,true);case 6:r.next=10;break;case 8:r.next=10;return p(t,T);case 10:window.scrollTo(0,0);case 11:case"end":return r.stop()}}},e)}));return function t(r){return e.apply(this,arguments)}}();var Z=function e(){T==="driver_not_found"?k(pageNumber,true):p(1,T)};var ee=function e(){L.push("".concat(L.location.pathname,"?page=",1));p(1,T,false,z,B);O(T,z,B)};var te=function e(t){C(t,T)};var re=function e(){T==="driver_not_found"?S():O(T)};var ae=function e(){W.current.open()};var ne=function e(){W.current.close();N(T,"","",z,B)};return n.a.createElement("div",null,n.a.createElement(f["a"],{heading:A,fullBlock:true,style:{minHeight:"70vh"}},T!=="driver_not_found"&&n.a.createElement("li",{className:"list-inline-item search-icon d-inline-block ml-2 mb-2"},n.a.createElement(E["a"],{getPreviousData:Z,getSearchedData:te,setCurrentPage:I,getCount:re,placeHolder:"Trip Reference"})),n.a.createElement("li",{className:"list-inline-item search-icon d-inline-block ml-2 mb-2"},n.a.createElement("small",{className:"fw-bold mr-2"},"From"),n.a.createElement("input",{type:"date",id:"start",name:"wallet-start",defaultValue:z,min:"2018-01-01",max:Object(w["x"])(),onChange:function e(t){return J(t.target.value)}})),n.a.createElement("li",{className:"list-inline-item search-icon d-inline-block ml-2 mb-2"},n.a.createElement("small",{className:"fw-bold mr-2"},"To"),n.a.createElement("input",{type:"date",id:"start",name:"wallet-start",defaultValue:B,min:"2018-01-01",max:Object(w["x"])(),onChange:function e(t){return K(t.target.value)}})),n.a.createElement("li",{className:"list-inline-item search-icon d-inline-block ml-5 mb-2"},n.a.createElement("button",{className:"btn btn-primary",onClick:ee},"Apply Filter")),T!=="driver_not_found"&&n.a.createElement("div",{className:"float-right"},!v&&r.length>0&&n.a.createElement(s["a"],{onClick:function e(){return ae()},style:{height:"30px"},className:"align-items-center justify-content-center mr-2",color:"primary"}," ",n.a.createElement("i",{className:"zmdi zmdi-download mr-2"})," Export to Excel")),!v&&r.length>0&&n.a.createElement("div",null,n.a.createElement("div",{className:"table-responsive",style:{minHeight:"50vh"}},n.a.createElement(o["a"],null,n.a.createElement(u["a"],null,n.a.createElement(c["a"],{hover:true},T==="driver_not_found"&&n.a.createElement(l["a"],null,"Start Address"),T!=="driver_not_found"&&n.a.createElement(l["a"],null,"Trip Reference"),n.a.createElement(l["a"],null,"Date / Time"),T!=="driver_not_found"&&n.a.createElement(n.a.Fragment,null,n.a.createElement(l["a"],null,"Class"),n.a.createElement(l["a"],null,"Type"),T==="on_ride"&&n.a.createElement(l["a"],null,"Vehicle Plate Number"),n.a.createElement(l["a"],null,"Status")),T==="driver_not_found"&&n.a.createElement(n.a.Fragment,null,n.a.createElement(l["a"],null,"Driver not found"),n.a.createElement(l["a"],null,"Driver ignored")),T!=="driver_not_found"&&n.a.createElement(l["a"],null,"Action"))),n.a.createElement(i["a"],null,n.a.createElement(a["Fragment"],null,r.length>0&&r.map(function(e){var t,r,a;return n.a.createElement(c["a"],{hover:true,key:e.trip_id},T==="driver_not_found"&&n.a.createElement(l["a"],null,n.a.createElement(d["a"],null,n.a.createElement(d["a"],{body:true},n.a.createElement("h5",{className:"m-0 pt-15"},e===null||e===void 0?void 0:e.start_address)))),T!=="driver_not_found"&&n.a.createElement(l["a"],null,n.a.createElement(d["a"],null,n.a.createElement(d["a"],{body:true},n.a.createElement("h5",{className:"m-0 pt-15"},e.trip_ref)))),n.a.createElement(l["a"],null,T==="driver_not_found"?Object(w["a"])(e===null||e===void 0?void 0:e.updatedAt):Object(w["a"])(e===null||e===void 0?void 0:e.createdAt)),T!=="driver_not_found"&&n.a.createElement(n.a.Fragment,null,n.a.createElement(l["a"],null,e.ride_class),n.a.createElement(l["a"],null,e.ride_type),T==="on_ride"&&n.a.createElement(l["a"],null,e===null||e===void 0?void 0:(t=e.driver_data)===null||t===void 0?void 0:t.car_number_plate),n.a.createElement(l["a"],null,n.a.createElement(m["a"],{color:e.ride_status==="completed"?"success":e.ride_status==="cancel"?"danger":e.ride_status==="waiting"?"warning":"secondary"},e.ride_status==="on_trip"?"current":e.ride_status==="on_pickup"?"enroute":(e===null||e===void 0?void 0:e.ride_status)==="cancel"?"cancelled":e.ride_status))),T==="driver_not_found"&&n.a.createElement(n.a.Fragment,null,n.a.createElement(l["a"],null,e===null||e===void 0?void 0:(r=e.total_request)===null||r===void 0?void 0:r.driver_not_found),n.a.createElement(l["a"],null,e===null||e===void 0?void 0:(a=e.total_request)===null||a===void 0?void 0:a.driver_ignore)),T!=="driver_not_found"&&n.a.createElement(l["a"],null,n.a.createElement("button",{type:"button",className:"rct-link-btn text-primary",title:"view details"},n.a.createElement(b["b"],{to:{pathname:"/admin/trips/".concat(e.trip_id),state:{trip_status:T}}},n.a.createElement("i",{className:"ti-eye"})))))}))))),n.a.createElement("div",{className:"d-flex justify-content-end align-items-center mb-0 mt-3 mr-2"},n.a.createElement(h.a,{activePage:D,itemClass:"page-item",linkClass:"page-link",itemsCountPerPage:Q,totalItemsCount:g,onChange:Y}))),r.length===0&&!v&&n.a.createElement(y["a"],null)),n.a.createElement(j["a"],{ref:W,title:"Are you sure you want to Export File?",message:"This will send the excel file to your email",onConfirm:ne}))};N(L,'useHistory{history}\nuseState{[currentPage, setCurrentPage](() => {\n      return pageFromQuery === undefined ? 1 : parseInt(pageFromQuery, 10);\n   })}\nuseState{[postsPerPage](20)}\nuseState{[startDate, setStartDate]("")}\nuseState{[endDate, setEndDate]("")}\nuseRef{exportRef}',function(){return[_["g"]]});function M(e){return{getTrips:function t(r,a,n,o,i){return e(Object(v["x"])(r,a,n,o,i))},getTripCount:function t(r,a,n){return e(Object(v["r"])(r,a,n))},getTripExport:function t(r,a,n,o,i){return e(Object(v["w"])(r,a,n,o,i))},searchTrips:function t(r,a){return e(Object(v["y"])(r,a))},getCancelledTrips:function t(r,a){return e(Object(v["b"])(r,a))},getCancelledTripCount:function t(){return e(Object(v["a"])())}}}var G=function e(t){return{trips:t.trips.trips,tripCount:t.trips.tripCount,isLoading:t.loading.loading}};var F=Object(p["b"])(G,M)(L);t["a"]=F;(function(){var e=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.default:undefined;if(!e){return}e.register(L,"TripsTable","/Applications/XAMPP/xamppfiles/htdocs/workload/lagosride/admin-dashboard/src/routes/trips/component/tripsTable.js");e.register(M,"mapDispatchToProps","/Applications/XAMPP/xamppfiles/htdocs/workload/lagosride/admin-dashboard/src/routes/trips/component/tripsTable.js");e.register(G,"mapStateToProps","/Applications/XAMPP/xamppfiles/htdocs/workload/lagosride/admin-dashboard/src/routes/trips/component/tripsTable.js");e.register(F,"default","/Applications/XAMPP/xamppfiles/htdocs/workload/lagosride/admin-dashboard/src/routes/trips/component/tripsTable.js")})();(function(){var t=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.leaveModule:undefined;t&&t(e)})()}).call(this,r(7)(e))},1465:function(e,t,r){"use strict";var a=r(2);var n=r(21);var o=r(0);var i=r.n(o);var l=r(1);var u=r.n(l);var c=r(28);var s=r.n(c);var d=r(9);var m={body:u.a.bool,bottom:u.a.bool,children:u.a.node,className:u.a.string,cssModule:u.a.object,heading:u.a.bool,left:u.a.bool,list:u.a.bool,middle:u.a.bool,object:u.a.bool,right:u.a.bool,tag:d["o"],top:u.a.bool};var f=function e(t){var r=t.body,o=t.bottom,l=t.className,u=t.cssModule,c=t.heading,m=t.left,f=t.list,p=t.middle,v=t.object,b=t.right,g=t.tag,h=t.top,y=Object(n["a"])(t,["body","bottom","className","cssModule","heading","left","list","middle","object","right","tag","top"]);var E;if(c){E="h4"}else if(y.href){E="a"}else if(y.src||v){E="img"}else if(f){E="ul"}else{E="div"}var _=g||E;var j=Object(d["k"])(s()(l,{"media-body":r,"media-heading":c,"media-left":m,"media-right":b,"media-top":h,"media-bottom":o,"media-middle":p,"media-object":v,"media-list":f,media:!r&&!c&&!m&&!b&&!h&&!o&&!p&&!v&&!f}),u);return i.a.createElement(_,Object(a["a"])({},y,{className:j}))};f.propTypes=m;t["a"]=f}}]);