(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[59],{1357:function(e,t,a){"use strict";a.r(t);(function(e){var r=a(0);var n=a.n(r);var o=a(223);var c=a(225);var i=a(18);var s=a(224);var u=a(116);var l=a(65);var d=a(36);var f=a(34);var m=a(27);var p=a(166);var g=a(66);var v=a(43);var b=a(56);var h=a(55);var y=a(58);var x=a(147);var O=a(32);var j=a(1463);var w=a(103);var S=a(67);var k=a(62);(function(){var t=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.enterModule:undefined;t&&t(e)})();function E(e,t,a,r,n,o,c){try{var i=e[o](c);var s=i.value}catch(e){a(e);return}if(i.done){t(s)}else{Promise.resolve(s).then(r,n)}}function A(e){return function(){var t=this,a=arguments;return new Promise(function(r,n){var o=e.apply(t,a);function c(e){E(o,r,n,c,i,"next",e)}function i(e){E(o,r,n,c,i,"throw",e)}c(undefined)})}}function M(e,t){return G(e)||H(e,t)||P(e,t)||N()}function N(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function P(e,t){if(!e)return;if(typeof e==="string")return R(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor)a=e.constructor.name;if(a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return R(e,t)}function R(e,t){if(t==null||t>e.length)t=e.length;for(var a=0,r=new Array(t);a<t;a++){r[a]=e[a]}return r}function H(e,t){var a=e&&(typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"]);if(a==null)return;var r=[];var n=true;var o=false;var c,i;try{for(a=a.call(e);!(n=(c=a.next()).done);n=true){r.push(c.value);if(t&&r.length===t)break}}catch(e){o=true;i=e}finally{try{if(!n&&a["return"]!=null)a["return"]()}finally{if(o)throw i}}return r}function G(e){if(Array.isArray(e))return e}var L=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.default.signature:function(e){return e};var X=function e(t){var a,O,j,E;var N=t.match,P=t.setSOSEmail,R=t.getSOSNumber,H=t.sosNumbers,G=t.loading,L=t.deleteSOSEmail;var X=Object(r["useState"])(""),_=M(X,2),D=_[0],C=_[1];var I=Object(r["useState"])(false),T=M(I,2),z=T[0],J=T[1];var U=Object(r["useState"])(null),Y=M(U,2),q=Y[0],B=Y[1];var F=Object(r["useRef"])(null);Object(r["useEffect"])(function(){R(true)},[]);console.log(H);var W=function(){var e=A(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function e(a){while(1){switch(a.prev=a.next){case 0:t.preventDefault();J(false);a.next=4;return P(D);case 4:C("");case 5:case"end":return a.stop()}}},e)}));return function t(a){return e.apply(this,arguments)}}();var $=function e(t){F.current.open();B(t)};return n.a.createElement("div",{className:"table-wrapper"},n.a.createElement(p["a"],{title:"Emergency Emails",match:N}),n.a.createElement(g["a"],{heading:(H===null||H===void 0?void 0:(a=H.emails)===null||a===void 0?void 0:a.length)>0?"Emergency Emails":null,fullBlock:true,style:{minHeight:"70vh"}},n.a.createElement("div",{className:"float-right"},n.a.createElement("a",{href:"#",onClick:function e(t){return Object(k["b"])("create_emergency_emails",function(){return J(true)})},color:"primary",className:"caret btn-sm mr-10"},"Add New SOS Email ",n.a.createElement("i",{className:"zmdi zmdi-plus"}))),!G&&((O=H.emails)===null||O===void 0?void 0:O.length)>0&&n.a.createElement("div",{className:"table-responsive",style:{minHeight:"50vh"}},n.a.createElement(o["a"],null,n.a.createElement(s["a"],null,n.a.createElement(u["a"],{hover:true},n.a.createElement(i["a"],null,"Email "),n.a.createElement(i["a"],null,"Action"))),n.a.createElement(c["a"],null,n.a.createElement(r["Fragment"],null,((j=H.emails)===null||j===void 0?void 0:j.length)>0&&H.emails.map(function(e){return n.a.createElement(u["a"],{hover:true,key:e},n.a.createElement(i["a"],null,e),n.a.createElement(i["a"],null,n.a.createElement("button",{type:"button",className:"rct-link-btn ml-lg-3 text-danger ml-2",onClick:function t(){return Object(k["b"])("delete_emergency_email",function(){return $(e)})}},n.a.createElement("i",{className:"ti-trash"}))))})))))),((E=H.emails)===null||E===void 0?void 0:E.length)<1&&n.a.createElement(w["a"],null),n.a.createElement(b["a"],{isOpen:z,toggle:function e(){return J(false)}},n.a.createElement(h["a"],{toggle:function e(){return J(false)}},"Add SOS Email"),n.a.createElement(l["a"],{onSubmit:W},n.a.createElement(y["a"],null,n.a.createElement(d["a"],null,n.a.createElement(f["a"],{for:"firstName"},"EMail"),n.a.createElement(m["a"],{type:"email",name:"tel",value:D,onChange:function e(t){return C(t.target.value)},required:true}))),n.a.createElement(x["a"],null,n.a.createElement(v["a"],{type:"submit",variant:"contained",className:"text-white btn-success"},"Submit")))),n.a.createElement(S["a"],{ref:F,title:"Are You Sure YouÂ Want To Delete?",message:"This will delete Number permanently.",onConfirm:function e(){L(q);F.current.close()}}))};L(X,'useState{[email, setEmail]("")}\nuseState{[isModal, setIsModal](false)}\nuseState{[deleteId, setDeleteId](null)}\nuseRef{inputEl}\nuseEffect{}');function _(e){return{getSOSNumber:function t(a){return e(Object(j["h"])(a))},deleteSOSEmail:function t(a){return e(Object(j["c"])(a))},setSOSEmail:function t(a){return e(Object(j["i"])(a))}}}var D=function e(t){return{sosNumbers:t.sos.sosNumbers,loading:t.loading.loading}};var C=Object(O["b"])(D,_)(X);t["default"]=C;(function(){var e=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.default:undefined;if(!e){return}e.register(X,"EmergencyEmail","/Applications/XAMPP/xamppfiles/htdocs/workload/lagosride/admin-dashboard/src/routes/emergency/emmergencyEmail.js");e.register(_,"mapDispatchToProps","/Applications/XAMPP/xamppfiles/htdocs/workload/lagosride/admin-dashboard/src/routes/emergency/emmergencyEmail.js");e.register(D,"mapStateToProps","/Applications/XAMPP/xamppfiles/htdocs/workload/lagosride/admin-dashboard/src/routes/emergency/emmergencyEmail.js");e.register(C,"default","/Applications/XAMPP/xamppfiles/htdocs/workload/lagosride/admin-dashboard/src/routes/emergency/emmergencyEmail.js")})();(function(){var t=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.leaveModule:undefined;t&&t(e)})()}).call(this,a(6)(e))},1463:function(e,t,a){"use strict";(function(e){a.d(t,"e",function(){return m});a.d(t,"g",function(){return p});a.d(t,"j",function(){return g});a.d(t,"i",function(){return v});a.d(t,"f",function(){return b});a.d(t,"b",function(){return h});a.d(t,"a",function(){return y});a.d(t,"h",function(){return x});a.d(t,"d",function(){return O});a.d(t,"c",function(){return j});var r=a(15);var n=a.n(r);var o=a(3);var c=a(4);var i=a(5);var s=a.n(i);var u=a(17);(function(){var t=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.enterModule:undefined;t&&t(e)})();function l(e,t,a,r,n,o,c){try{var i=e[o](c);var s=i.value}catch(e){a(e);return}if(i.done){t(s)}else{Promise.resolve(s).then(r,n)}}function d(e){return function(){var t=this,a=arguments;return new Promise(function(r,n){var o=e.apply(t,a);function c(e){l(o,r,n,c,i,"next",e)}function i(e){l(o,r,n,c,i,"throw",e)}c(undefined)})}}var f=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.default.signature:function(e){return e};var m=function e(t,a){return function(){var e=d(regeneratorRuntime.mark(function e(r){var s;return regeneratorRuntime.wrap(function e(l){while(1){switch(l.prev=l.next){case 0:l.prev=0;a&&r(Object(c["c"])());!a&&r(Object(c["d"])());l.next=5;return n.a.get("".concat(u["a"].sos,"/v1.1/sos/?page=").concat(t,"&item_per_page=20"));case 5:s=l.sent;if(s.data.status==="error"){i["NotificationManager"].error(s.data.msg)}else{r({type:o["cc"],payload:s.data.data})}r(Object(c["a"])());r(Object(c["b"])());l.next=16;break;case 11:l.prev=11;l.t0=l["catch"](0);r(Object(c["a"])());r(Object(c["b"])());i["NotificationManager"].error(l.t0.response.data.message);case 16:case"end":return l.stop()}}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}()};var p=function e(t,a){return function(){var e=d(regeneratorRuntime.mark(function e(r){var s,l,d,f;return regeneratorRuntime.wrap(function e(m){while(1){switch(m.prev=m.next){case 0:m.prev=0;a&&r(Object(c["c"])());!a&&r(Object(c["d"])());m.next=5;return n.a.get("".concat(u["a"].sos,"/v1.1/sos/?sos_id=").concat(t));case 5:s=m.sent;if(!(s.data.status==="error")){m.next=10;break}i["NotificationManager"].error(s.data.msg);m.next=16;break;case 10:if(!(s!==null&&s!==void 0&&(l=s.data)!==null&&l!==void 0&&(d=l.data)!==null&&d!==void 0&&d.user_id)){m.next=15;break}m.next=13;return n.a.get("".concat(u["a"].user,"/v1.1/admin/users/").concat(s.data.data.user_id));case 13:f=m.sent;r({type:o["gc"],payload:f.data.data});case 15:r({type:o["ec"],payload:s.data.data});case 16:r(Object(c["a"])());r(Object(c["b"])());m.next=25;break;case 20:m.prev=20;m.t0=m["catch"](0);r(Object(c["a"])());r(Object(c["b"])());i["NotificationManager"].error(m.t0.response.data.message);case 25:case"end":return m.stop()}}},e,null,[[0,20]])}));return function(t){return e.apply(this,arguments)}}()};var g=function e(t){return function(){var e=d(regeneratorRuntime.mark(function e(a){var r;return regeneratorRuntime.wrap(function e(o){while(1){switch(o.prev=o.next){case 0:o.prev=0;a(Object(c["d"])());o.next=4;return n.a.post("".concat(u["a"].sos,"/v1.1/admin/recipient-contact"),{phone_number:t});case 4:r=o.sent;if(!(r.data.status==="error")){o.next=9;break}i["NotificationManager"].error(r.data.msg);o.next=13;break;case 9:o.next=11;return a(x());case 11:o.next=13;return i["NotificationManager"].success("Number Added Successfully!");case 13:a(Object(c["b"])());o.next=21;break;case 16:o.prev=16;o.t0=o["catch"](0);a(Object(c["b"])());i["NotificationManager"].error(o.t0.response.data.message);console.log(o.t0.response.data);case 21:case"end":return o.stop()}}},e,null,[[0,16]])}));return function(t){return e.apply(this,arguments)}}()};var v=function e(t){return function(){var e=d(regeneratorRuntime.mark(function e(a){var r;return regeneratorRuntime.wrap(function e(o){while(1){switch(o.prev=o.next){case 0:o.prev=0;a(Object(c["d"])());o.next=4;return n.a.post("".concat(u["a"].sos,"/v1.1/admin/recipient-contact"),{email:t});case 4:r=o.sent;if(!(r.data.status==="error")){o.next=9;break}i["NotificationManager"].error(r.data.msg);o.next=13;break;case 9:o.next=11;return a(x());case 11:o.next=13;return i["NotificationManager"].success("Email Added Successfully!");case 13:a(Object(c["b"])());o.next=21;break;case 16:o.prev=16;o.t0=o["catch"](0);a(Object(c["b"])());i["NotificationManager"].error(o.t0.response.data.message);console.log(o.t0.response.data);case 21:case"end":return o.stop()}}},e,null,[[0,16]])}));return function(t){return e.apply(this,arguments)}}()};var b=function e(){return function(){var e=d(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function e(r){while(1){switch(r.prev=r.next){case 0:r.prev=0;r.next=3;return n.a.get("".concat(u["a"].sos,"/v1.1/sos/?component=count"));case 3:a=r.sent;if(a.data.status==="error"){i["NotificationManager"].error(a.data.msg)}else{t({type:o["dc"],payload:a.data.data.total})}r.next=9;break;case 7:r.prev=7;r.t0=r["catch"](0);case 9:case"end":return r.stop()}}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()};var h=function e(t,a){return function(){var e=d(regeneratorRuntime.mark(function e(r){var o;return regeneratorRuntime.wrap(function e(s){while(1){switch(s.prev=s.next){case 0:s.prev=0;r(Object(c["d"])());s.next=4;return n.a.put("".concat(u["a"].sos,"/v1.1/sos/status"),{sos_id:t,status:a});case 4:o=s.sent;if(!(o.data.status==="error")){s.next=9;break}i["NotificationManager"].error(o.data.msg);s.next=13;break;case 9:s.next=11;return r(p(t));case 11:s.next=13;return i["NotificationManager"].success("SOS Status Updated Successfully!");case 13:r(Object(c["b"])());s.next=21;break;case 16:s.prev=16;s.t0=s["catch"](0);r(Object(c["b"])());i["NotificationManager"].error(s.t0.response.data.message);console.log(s.t0.response.data);case 21:case"end":return s.stop()}}},e,null,[[0,16]])}));return function(t){return e.apply(this,arguments)}}()};var y=function e(t){return function(){var e=d(regeneratorRuntime.mark(function e(a){var r;return regeneratorRuntime.wrap(function e(o){while(1){switch(o.prev=o.next){case 0:o.prev=0;a(Object(c["d"])());o.next=4;return n.a.put("".concat(u["a"].sos,"/v1.1/sos/assign"),{email:t});case 4:r=o.sent;if(!(r.data.status==="error")){o.next=9;break}i["NotificationManager"].error(r.data.msg);o.next=11;break;case 9:o.next=11;return i["NotificationManager"].success("SOS Assigned Successfully!");case 11:a(Object(c["b"])());o.next=19;break;case 14:o.prev=14;o.t0=o["catch"](0);a(Object(c["b"])());i["NotificationManager"].error(o.t0.response.data.message);console.log(o.t0.response.data);case 19:case"end":return o.stop()}}},e,null,[[0,14]])}));return function(t){return e.apply(this,arguments)}}()};var x=function e(t){return function(){var e=d(regeneratorRuntime.mark(function e(a){var r;return regeneratorRuntime.wrap(function e(s){while(1){switch(s.prev=s.next){case 0:s.prev=0;t&&a(Object(c["c"])());!t&&a(Object(c["d"])());s.next=5;return n.a.get("".concat(u["a"].sos,"/v1.1/admin/recipient-contact"));case 5:r=s.sent;if(r.data.status==="error"){i["NotificationManager"].error(r.data.msg)}else{a({type:o["fc"],payload:r.data.data})}a(Object(c["a"])());a(Object(c["b"])());s.next=16;break;case 11:s.prev=11;s.t0=s["catch"](0);a(Object(c["b"])());a(Object(c["a"])());i["NotificationManager"].error(s.t0.response.data.message);case 16:case"end":return s.stop()}}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}()};var O=function e(t){return function(){var e=d(regeneratorRuntime.mark(function e(a){var r;return regeneratorRuntime.wrap(function e(o){while(1){switch(o.prev=o.next){case 0:console.log(t);o.prev=1;a(Object(c["d"])());o.next=5;return n.a.delete("".concat(u["a"].sos,"/v1.1/admin/recipient-contact/").concat(t));case 5:r=o.sent;if(!(r.data.status==="error")){o.next=10;break}i["NotificationManager"].error(r.data.msg);o.next=14;break;case 10:o.next=12;return a(x());case 12:o.next=14;return i["NotificationManager"].success("Number Deleted Successfully!");case 14:a(Object(c["b"])());o.next=21;break;case 17:o.prev=17;o.t0=o["catch"](1);a(Object(c["b"])());i["NotificationManager"].error(o.t0.response.data.message);case 21:case"end":return o.stop()}}},e,null,[[1,17]])}));return function(t){return e.apply(this,arguments)}}()};var j=function e(t){return function(){var e=d(regeneratorRuntime.mark(function e(a){var r;return regeneratorRuntime.wrap(function e(o){while(1){switch(o.prev=o.next){case 0:o.prev=0;a(Object(c["d"])());o.next=4;return n.a.delete("".concat(u["a"].sos,"/v1.1/admin/recipient-contact/").concat(t));case 4:r=o.sent;if(!(r.data.status==="error")){o.next=9;break}i["NotificationManager"].error(r.data.msg);o.next=13;break;case 9:o.next=11;return a(x());case 11:o.next=13;return i["NotificationManager"].success("Email Deleted Successfully!");case 13:a(Object(c["b"])());o.next=20;break;case 16:o.prev=16;o.t0=o["catch"](0);a(Object(c["b"])());i["NotificationManager"].error(o.t0.response.data.message);case 20:case"end":return o.stop()}}},e,null,[[0,16]])}));return function(t){return e.apply(this,arguments)}}()};(function(){var e=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.default:undefined;if(!e){return}e.register(m,"getSOS","/Applications/XAMPP/xamppfiles/htdocs/workload/lagosride/admin-dashboard/src/actions/emergencyAction.js");e.register(p,"getSOSDetails","/Applications/XAMPP/xamppfiles/htdocs/workload/lagosride/admin-dashboard/src/actions/emergencyAction.js");e.register(g,"setSOSNumber","/Applications/XAMPP/xamppfiles/htdocs/workload/lagosride/admin-dashboard/src/actions/emergencyAction.js");e.register(v,"setSOSEmail","/Applications/XAMPP/xamppfiles/htdocs/workload/lagosride/admin-dashboard/src/actions/emergencyAction.js");e.register(b,"getSOSCount","/Applications/XAMPP/xamppfiles/htdocs/workload/lagosride/admin-dashboard/src/actions/emergencyAction.js");e.register(h,"changeSOStatus","/Applications/XAMPP/xamppfiles/htdocs/workload/lagosride/admin-dashboard/src/actions/emergencyAction.js");e.register(y,"assignSOSToAdmin","/Applications/XAMPP/xamppfiles/htdocs/workload/lagosride/admin-dashboard/src/actions/emergencyAction.js");e.register(x,"getSOSNumber","/Applications/XAMPP/xamppfiles/htdocs/workload/lagosride/admin-dashboard/src/actions/emergencyAction.js");e.register(O,"deleteSOSNumber","/Applications/XAMPP/xamppfiles/htdocs/workload/lagosride/admin-dashboard/src/actions/emergencyAction.js");e.register(j,"deleteSOSEmail","/Applications/XAMPP/xamppfiles/htdocs/workload/lagosride/admin-dashboard/src/actions/emergencyAction.js")})();(function(){var t=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.leaveModule:undefined;t&&t(e)})()}).call(this,a(6)(e))}}]);